(self.webpackChunkangular_template=self.webpackChunkangular_template||[]).push([[148],{3148:(Ut,At,z)=>{"use strict";z.r(At),z.d(At,{DemosModule:()=>en});var ut=z(6895),yt=z(529),W=z(433),V=z(5330),f=z(1571),it=z(7579),_t=z(727),ot=z(9300),Pt=z(4004),Rt=z(9721),qt=z.t(Rt,2);class Pe{constructor(e,n,r){this.name=e,this.drake=n,this.options=r,this.initEvents=!1}}var lt=(()=>{return(t=lt||(lt={})).Cancel="cancel",t.Cloned="cloned",t.Drag="drag",t.DragEnd="dragend",t.Drop="drop",t.Out="out",t.Over="over",t.Remove="remove",t.Shadow="shadow",t.DropModel="dropModel",t.RemoveModel="removeModel",lt;var t})();const Me=Object.keys(lt).map(t=>lt[t]),Re=Rt||qt;class Q{constructor(e=Re){this.build=e}}const nt=(t,e,n)=>r=>r.pipe((0,ot.h)(({event:i,name:o})=>i===t&&(void 0===e||o===e)),(0,Pt.U)(({name:i,args:o})=>n(i,o))),wt=(t,[e,n,r])=>({name:t,el:e,container:n,source:r});let et=(()=>{class t{constructor(n){this.drakeFactory=n,this.groups={},this.dispatch$=new it.x,this.elContainerSource=r=>i=>this.dispatch$.pipe(nt(r,i,wt)),this.cancel=this.elContainerSource(lt.Cancel),this.remove=this.elContainerSource(lt.Remove),this.shadow=this.elContainerSource(lt.Shadow),this.over=this.elContainerSource(lt.Over),this.out=this.elContainerSource(lt.Out),this.drag=r=>this.dispatch$.pipe(nt(lt.Drag,r,(i,[o,a])=>({name:i,el:o,source:a}))),this.dragend=r=>this.dispatch$.pipe(nt(lt.DragEnd,r,(i,[o])=>({name:i,el:o}))),this.drop=r=>this.dispatch$.pipe(nt(lt.Drop,r,(i,[o,a,s,u])=>({name:i,el:o,target:a,source:s,sibling:u}))),this.cloned=r=>this.dispatch$.pipe(nt(lt.Cloned,r,(i,[o,a,s])=>({name:i,clone:o,original:a,cloneType:s}))),this.dropModel=r=>this.dispatch$.pipe(nt(lt.DropModel,r,(i,[o,a,s,u,l,c,g,h,m])=>({name:i,el:o,target:a,source:s,sibling:u,item:l,sourceModel:c,targetModel:g,sourceIndex:h,targetIndex:m}))),this.removeModel=r=>this.dispatch$.pipe(nt(lt.RemoveModel,r,(i,[o,a,s,u,l,c])=>({name:i,el:o,container:a,source:s,item:u,sourceModel:l,sourceIndex:c}))),null==this.drakeFactory&&(this.drakeFactory=new Q)}add(n){if(this.find(n.name))throw new Error('Group named: "'+n.name+'" already exists.');return this.groups[n.name]=n,this.handleModels(n),this.setupEvents(n),n}find(n){return this.groups[n]}destroy(n){const r=this.find(n);r&&(r.drake&&r.drake.destroy(),delete this.groups[n])}createGroup(n,r){return this.add(new Pe(n,this.drakeFactory.build([],r),r))}handleModels({name:n,drake:r,options:i}){let o,a,s;r.on("remove",(u,l,c)=>{if(!r.models)return;let g=r.models[r.containers.indexOf(c)];g=g.slice(0);const h=g.splice(a,1)[0];this.dispatch$.next({event:lt.RemoveModel,name:n,args:[u,l,c,h,g,a]})}),r.on("drag",(u,l)=>{r.models&&(o=u,a=this.domIndexOf(u,l))}),r.on("drop",(u,l,c,g)=>{if(!r.models||!l)return;s=this.domIndexOf(u,l);let M,h=r.models[r.containers.indexOf(c)],m=r.models[r.containers.indexOf(l)];if(l===c)h=h.slice(0),M=h.splice(a,1)[0],h.splice(s,0,M),m=h;else{const O=o!==u;if(M=h[a],O){if(!i.copyItem)throw new Error("If you have enabled `copy` on a group, you must provide a `copyItem` function.");M=i.copyItem(M)}if(O||(h=h.slice(0),h.splice(a,1)),m=m.slice(0),m.splice(s,0,M),O)try{l.removeChild(u)}catch{}}this.dispatch$.next({event:lt.DropModel,name:n,args:[u,l,c,g,M,h,m,a,s]})})}setupEvents(n){if(n.initEvents)return;n.initEvents=!0;const r=n.name;Me.forEach(a=>{n.drake.on(a,(...s)=>{this.dispatch$.next({event:a,name:r,args:s})})})}domIndexOf(n,r){if(r)return Array.prototype.indexOf.call(r.children,n)}}return t.\u0275fac=function(n){return new(n||t)(f.LFG(Q,8))},t.\u0275prov=f.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Bt=(()=>{class t{constructor(n,r){this.el=n,this.dragulaService=r,this.dragulaModelChange=new f.vpe}get container(){return this.el&&this.el.nativeElement}ngOnChanges(n){if(n&&n.dragula){const{previousValue:r,currentValue:i}=n.dragula,s=!!i;!!r&&this.teardown(r),s&&this.setup()}else if(n&&n.dragulaModel){const{previousValue:r,currentValue:i}=n.dragulaModel,a=this.group?.drake;if(this.dragula&&a){a.models=a.models||[];const s=a.models.indexOf(r);-1!==s?(a.models.splice(s,1),i&&a.models.splice(s,0,i)):i&&a.models.push(i)}}}setup(){if(!this.dragula)return;let r=this.dragulaService.find(this.dragula);r||(r=this.dragulaService.createGroup(this.dragula,{})),(i=>{this.dragulaModel&&(i.drake?.models?i.drake?.models?.push(this.dragulaModel):i.drake&&(i.drake.models=[this.dragulaModel]))})(r),r.drake?.containers.push(this.container),this.subscribe(this.dragula),this.group=r}subscribe(n){this.subs=new _t.w0,this.subs.add(this.dragulaService.dropModel(n).subscribe(({source:r,target:i,sourceModel:o,targetModel:a})=>{r===this.el.nativeElement?this.dragulaModelChange.emit(o):i===this.el.nativeElement&&this.dragulaModelChange.emit(a)})),this.subs.add(this.dragulaService.removeModel(n).subscribe(({source:r,sourceModel:i})=>{r===this.el.nativeElement&&this.dragulaModelChange.emit(i)}))}teardown(n){this.subs&&this.subs.unsubscribe();const r=this.dragulaService.find(n);if(r){const i=r.drake?.containers.indexOf(this.el.nativeElement);if(-1!==i&&r.drake?.containers.splice(i,1),this.dragulaModel&&r.drake&&r.drake.models){const o=r.drake.models.indexOf(this.dragulaModel);-1!==o&&r.drake.models.splice(o,1)}}}ngOnDestroy(){this.dragula&&this.teardown(this.dragula)}}return t.\u0275fac=function(n){return new(n||t)(f.Y36(f.SBq),f.Y36(et))},t.\u0275dir=f.lG2({type:t,selectors:[["","dragula",""]],inputs:{dragula:"dragula",dragulaModel:"dragulaModel"},outputs:{dragulaModelChange:"dragulaModelChange"},features:[f.TTD]}),t})(),mt=(()=>{class t{static forRoot(){return{ngModule:t,providers:[et]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=f.oAB({type:t}),t.\u0275inj=f.cJS({providers:[et]}),t})();new Q((t,e)=>new pt(t,e));class pt{constructor(e=[],n={},r){this.containers=e,this.options=n,this.models=r,this.emitter$=new it.x,this.subs=new _t.w0,this.dragging=!1}start(e){this.dragging=!0}end(){this.dragging=!1}cancel(e){this.dragging=!1}remove(){this.dragging=!1}on(e,n){this.subs.add(this.emitter$.pipe((0,ot.h)(({eventType:r})=>r===e)).subscribe(({eventType:r,args:i})=>{if(r!==lt.Drag)if(r!==lt.Drop)if(r!==lt.Remove)n(i);else{const o=Array.from(i);n(o[0],o[1],o[2])}else{const o=Array.from(i);n(o[0],o[1],o[2],o[3])}else{const o=Array.from(i);n(o[0],o[1])}}))}destroy(){this.subs.unsubscribe()}emit(e,...n){this.emitter$.next({eventType:e,args:n})}}const St=["host"];let rt=(()=>{class t{constructor(){this.click=new f.vpe}initialize(n){n.instance.addCommand(this.command,{exec:r=>(this.click.emit(r),!0)}),n.instance.ui.addButton(this.name,{label:this.label,command:this.command,toolbar:this.toolbar,icon:this.icon})}ngOnInit(){if(!this.name)throw new Error('Attribute "name" is required on <ckbutton>');if(!this.command)throw new Error('Attribute "command" is required on <ckbutton>')}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=f.lG2({type:t,selectors:[["ckbutton"]],inputs:{label:"label",command:"command",toolbar:"toolbar",name:"name",icon:"icon"},outputs:{click:"click"}}),t})(),gt=(()=>{class t{ngAfterContentInit(){this.toolbarButtons.forEach(n=>n.toolbar=this.name)}initialize(n){n.instance.ui.addToolbarGroup(this.name,this.previous,this.subgroupOf),this.toolbarButtons.forEach(r=>{r.initialize(n)})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=f.lG2({type:t,selectors:[["ckgroup"]],contentQueries:function(n,r,i){if(1&n&&f.Suo(i,rt,4),2&n){let o;f.iGM(o=f.CRH())&&(r.toolbarButtons=o)}},inputs:{name:"name",previous:"previous",subgroupOf:"subgroupOf"}}),t})(),Tt=(()=>{class t{constructor(n){this.zone=n,this.change=new f.vpe,this.editorChange=new f.vpe,this.ready=new f.vpe,this.blur=new f.vpe,this.focus=new f.vpe,this.contentDom=new f.vpe,this.fileUploadRequest=new f.vpe,this.fileUploadResponse=new f.vpe,this.paste=new f.vpe,this.drop=new f.vpe,this._value="",this.destroyed=!1}get value(){return this._value}set value(n){n!==this._value&&(this._value=n,this.onChange(n))}ngOnChanges(n){n.readonly&&this.instance&&this.instance.setReadOnly(n.readonly.currentValue)}ngOnDestroy(){this.destroyed=!0,this.zone.runOutsideAngular(()=>{this.instance&&(CKEDITOR.removeAllListeners(),this.instance.destroy(),this.instance=null)})}ngAfterViewInit(){this.destroyed||this.ckeditorInit(this.config||{})}ngAfterViewChecked(){this.ckeditorInit(this.config||{})}updateValue(n){this.zone.run(()=>{this.value=n,this.onChange(n),this.onTouched(),this.change.emit(n)})}ckeditorInit(n){if(typeof CKEDITOR>"u")console.warn("CKEditor 4.x is missing (http://ckeditor.com/)");else{if(this.instance||!this.documentContains(this.host.nativeElement))return;this.readonly&&(n.readOnly=this.readonly),this.instance=CKEDITOR.replace(this.host.nativeElement,n),this.instance.setData(this.value),this.instance.on("instanceReady",r=>{this.instance.getData()!==this.value&&this.instance.setData(this.value),this.ready.emit(r)}),this.instance.on("change",r=>{this.onTouched();const i=this.instance.getData();this.value!==i&&(this.debounce?(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=window.setTimeout(()=>{this.updateValue(i),this.debounceTimeout=null},parseInt(this.debounce))):this.updateValue(i)),this.editorChange.emit(r)}),this.instance.on("blur",r=>{this.blur.emit(r)}),this.instance.on("focus",r=>{this.focus.emit(r)}),this.instance.on("contentDom",r=>{this.contentDom.emit(r)}),this.instance.on("fileUploadRequest",r=>{this.fileUploadRequest.emit(r)}),this.instance.on("fileUploadResponse",r=>{this.fileUploadResponse.emit(r)}),this.instance.on("paste",r=>{this.paste.emit(r)}),this.instance.on("drop",r=>{this.drop.emit(r)}),this.toolbarGroups.forEach(r=>{r.initialize(this)}),this.toolbarButtons.forEach(r=>{r.initialize(this)})}}writeValue(n){this._value=n,this.instance&&this.instance.setData(n)}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}documentContains(n){return document.contains?document.contains(n):document.body.contains(n)}}return t.\u0275fac=function(n){return new(n||t)(f.Y36(f.R0b))},t.\u0275cmp=f.Xpm({type:t,selectors:[["ckeditor"]],contentQueries:function(n,r,i){if(1&n&&(f.Suo(i,rt,4),f.Suo(i,gt,4)),2&n){let o;f.iGM(o=f.CRH())&&(r.toolbarButtons=o),f.iGM(o=f.CRH())&&(r.toolbarGroups=o)}},viewQuery:function(n,r){if(1&n&&f.Gf(St,5),2&n){let i;f.iGM(i=f.CRH())&&(r.host=i.first)}},inputs:{config:"config",readonly:"readonly",debounce:"debounce",value:"value"},outputs:{change:"change",editorChange:"editorChange",ready:"ready",blur:"blur",focus:"focus",contentDom:"contentDom",fileUploadRequest:"fileUploadRequest",fileUploadResponse:"fileUploadResponse",paste:"paste",drop:"drop"},features:[f._Bn([{provide:W.JU,useExisting:(0,f.Gpc)(()=>t),multi:!0}]),f.TTD],decls:2,vars:0,consts:[["host",""]],template:function(n,r){1&n&&f._UZ(0,"textarea",null,0)},encapsulation:2}),t})(),Le=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=f.oAB({type:t}),t.\u0275inj=f.cJS({imports:[ut.ez]}),t})();var En=z(7506),ye=z(8259);function Nn(t,e){if(1&t&&f._UZ(0,"div",6),2&t){const n=e.$implicit;f.Q6J("id",n.id)("innerHtml",n.text,f.oJD)}}function Ce(t,e){if(1&t&&f._UZ(0,"div",6),2&t){const n=e.$implicit;f.Q6J("id",n.id)("innerHtml",n.text,f.oJD)}}class Qt{constructor(e){this.dragulaService=e,this.many=["The","possibilities","are","endless!"],this.many2=["Explore","them"],this.list1=[{id:0,text:"You can drag and drop these elements between these two containers",allowMove:!0},{id:1,text:"There's also the possibility of moving elements around in the same container, changing their position",allowMove:!0},{id:2,text:"A drop event is fired whenever an element is dropped anywhere other than its origin",allowMove:!0},{id:3,text:"The over event fires when you drag something over a container, and out fires when you drag it away from the container",allowMove:!0}],this.list2=[{id:4,text:"There are also events such as cancel, cloned, drag, dragend, remove, shadow, dropModel, and removeModel",allowMove:!0},{id:5,text:"Make sure to check out the dragula and ng2-dragula documentation on GitHub!",allowMove:!0},{id:6,text:"Don't move me!!!",allowMove:!1}]}ngOnInit(){const e=this;this.dragulaService.createGroup("dragContainer",{isContainer:n=>!1,moves:(n,r,i,o)=>!0,accepts:(n,r,i,o)=>{const a=parseInt(ye(n).attr("id"),10);return!!(e.list1.find(u=>u.id===a)||e.list2.find(u=>u.id===a)).allowMove},invalid:(n,r)=>!1,direction:"vertical",copy:!1,copySortSource:!0,revertOnSpill:!0,removeOnSpill:!1,mirrorContainer:document.body,ignoreInputTextSelection:!0}),this.dragulaService.over("dragContainer").subscribe(n=>{}),this.dragulaService.out("dragContainer").subscribe(n=>{})}onOver(e){const[n,r,i]=e,o=parseInt(ye(n).attr("id"),10),a=this.list1.find(s=>s.id===o)||this.list2.find(s=>s.id===o);r!==i&&(a.allowMove?ye(r).addClass("drag-success"):ye(r).addClass("drag-error"))}onOut(e){const[n,r,i]=e;ye(r).removeClass("drag-success drag-error")}removeObject(e,n){for(let r=0;r<e.length;r++)if(e[r].id===n.id){e.splice(r,1);break}}}Qt.\u0275fac=function(e){return new(e||Qt)(f.Y36(et))},Qt.\u0275cmp=f.Xpm({type:Qt,selectors:[["app-drag-demo"]],features:[f._Bn([],[et])],decls:14,vars:9,consts:[[1,"d-flex","justify-content-center"],[1,"d-flex","justify-content-around"],[1,"flex-fill","p-1"],["id","list1",1,"dragContainer",3,"dragula","dragulaModel","dragulaModelChange"],["class","card card-body mt-2 mb-2",3,"id","innerHtml",4,"ngFor","ngForOf"],["id","list2",1,"dragContainer",3,"dragula","dragulaModel","dragulaModelChange"],[1,"card","card-body","mt-2","mb-2",3,"id","innerHtml"]],template:function(e,n){1&e&&(f.TgZ(0,"div")(1,"h3",0),f._uU(2,"Drag and Drop Demo"),f.qZA(),f._UZ(3,"br"),f.TgZ(4,"div",1)(5,"div",2)(6,"div",3),f.NdJ("dragulaModelChange",function(i){return n.list1=i}),f.YNc(7,Nn,1,2,"div",4),f.qZA()(),f.TgZ(8,"div",2)(9,"div",5),f.NdJ("dragulaModelChange",function(i){return n.list2=i}),f.YNc(10,Ce,1,2,"div",4),f.qZA()()(),f._UZ(11,"br"),f.TgZ(12,"div",0),f._uU(13),f.qZA()()),2&e&&(f.xp6(6),f.Q6J("dragula","dragContainer")("dragulaModel",n.list1),f.xp6(1),f.Q6J("ngForOf",n.list1),f.xp6(2),f.Q6J("dragula","dragContainer")("dragulaModel",n.list2),f.xp6(1),f.Q6J("ngForOf",n.list2),f.xp6(3),f.lnq("",n.list1.length," (left) + ",n.list2.length," (right) = ",n.list1.length+n.list2.length," (total)"))},dependencies:[ut.sg,Bt],styles:[".dragContainer[_ngcontent-%COMP%]{background-color:#f5f6f7;border:1px solid #5cb85c;border-radius:4px;padding:10px}.dragContainer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:grab;cursor:-webkit-grab}.drag-error[_ngcontent-%COMP%]{background-color:#d9534f}.drag-success[_ngcontent-%COMP%]{background-color:#5cb85c}"]});var xt=z(2445);function nn(t,e){if(1&t&&(f.TgZ(0,"div"),f._uU(1),f.qZA()),2&t){const n=e.$implicit;f.xp6(1),f.hij(" ",n.name," ")}}const le=function(){return{extraPlugins:"divarea",height:400,scayt_autoStartup:!0,tabSpaces:4,uiColor:"#9AB8F3"}};class jt{constructor(){this.data=[{name:"[CustomerName]",value:"John Smith"},{name:"[DeveloperName]",value:"Paul Gilchrist"},{name:"[DateToday]",value:(new Date).toDateString()}]}ngOnInit(){this.content="\n            <h3>[CustomerName],</h3>\n            <p>Welcome to this editor demo supporting data merge variable support, last modified on [DateToday].</p>\n            <p>&nbsp;</p>\n            <p>Thanks,</p>\n            <p>[DeveloperName]</p>\n        ",this.updateMergedContent()}onChange(e){this.updateMergedContent()}onReady(e){}updateMergedContent(){const e=this;this.mergedContent=this.content,this.data.forEach((n,r)=>e.mergedContent=e.mergedContent.split(n.name).join(n.value))}}function rn(t){return t}function mr(t){return"translate("+t+",0)"}function pr(t){return"translate(0,"+t+")"}function an(t){return e=>+t(e)}function vr(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function yr(){return!this.__axis}function ke(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",g=1===t||3===t?mr:pr;function h(m){var M=r??(e.ticks?e.ticks.apply(e,n):e.domain()),O=i??(e.tickFormat?e.tickFormat.apply(e,n):rn),v=Math.max(o,0)+s,p=e.range(),x=+p[0]+u,y=+p[p.length-1]+u,D=(e.bandwidth?vr:an)(e.copy(),u),T=m.selection?m.selection():m,b=T.selectAll(".domain").data([null]),P=T.selectAll(".tick").data(M,e).order(),I=P.exit(),Z=P.enter().append("g").attr("class","tick"),F=P.select("line"),N=P.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),P=P.merge(Z),F=F.merge(Z.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),N=N.merge(Z.append("text").attr("fill","currentColor").attr(c,l*v).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),m!==T&&(b=b.transition(m),P=P.transition(m),F=F.transition(m),N=N.transition(m),I=I.transition(m).attr("opacity",1e-6).attr("transform",function(K){return isFinite(K=D(K))?g(K+u):this.getAttribute("transform")}),Z.attr("opacity",1e-6).attr("transform",function(K){var A=this.parentNode.__axis;return g((A&&isFinite(A=A(K))?A:D(K))+u)})),I.remove(),b.attr("d",4===t||2===t?a?"M"+l*a+","+x+"H"+u+"V"+y+"H"+l*a:"M"+u+","+x+"V"+y:a?"M"+x+","+l*a+"V"+u+"H"+y+"V"+l*a:"M"+x+","+u+"H"+y),P.attr("opacity",1).attr("transform",function(K){return g(D(K)+u)}),F.attr(c+"2",l*o),N.attr(c,l*v).text(O),T.filter(yr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),T.each(function(){this.__axis=D})}return h.scale=function(m){return arguments.length?(e=m,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(m){return arguments.length?(n=null==m?[]:Array.from(m),h):n.slice()},h.tickValues=function(m){return arguments.length?(r=null==m?null:Array.from(m),h):r&&r.slice()},h.tickFormat=function(m){return arguments.length?(i=m,h):i},h.tickSize=function(m){return arguments.length?(o=a=+m,h):o},h.tickSizeInner=function(m){return arguments.length?(o=+m,h):o},h.tickSizeOuter=function(m){return arguments.length?(a=+m,h):a},h.tickPadding=function(m){return arguments.length?(s=+m,h):s},h.offset=function(m){return arguments.length?(u=+m,h):u},h}function sn(t){return ke(3,t)}function ze(t){return ke(4,t)}function On(){}function Ye(t){return null==t?On:function(){return this.querySelector(t)}}function un(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function ln(){return[]}function cn(t){return null==t?ln:function(){return this.querySelectorAll(t)}}function Fn(t){return function(){return this.matches(t)}}function $n(t){return function(e){return e.matches(t)}}jt.\u0275fac=function(e){return new(e||jt)},jt.\u0275cmp=f.Xpm({type:jt,selectors:[["app-editor-demo"]],decls:14,vars:8,consts:[[1,"d-flex"],[1,"card"],[1,"card-body","tightMargin"],[1,"card-title"],[4,"ngFor","ngForOf"],[1,"pl-3"],[1,"d-flex","justify-content-center","mb-3"],["debounce","500",3,"ngModel","config","ngModelChange","change","ready"],[1,"mt-3","card"],[1,"card-body"],["id","mergedContent",3,"innerHTML"]],template:function(e,n){1&e&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),f._uU(4,"Supported Variables"),f.qZA(),f.YNc(5,nn,2,1,"div",4),f.ALo(6,"sortObjects"),f.qZA()(),f.TgZ(7,"div",5)(8,"h3",6),f._uU(9,"WYSIWYG Data Merge Demo"),f.qZA(),f.TgZ(10,"ckeditor",7),f.NdJ("ngModelChange",function(i){return n.content=i})("change",function(i){return n.onChange(i)})("ready",function(i){return n.onReady(i)}),f.qZA(),f.TgZ(11,"div",8)(12,"div",9),f._UZ(13,"div",10),f.qZA()()()()),2&e&&(f.xp6(5),f.Q6J("ngForOf",f.xi3(6,4,n.data,"name")),f.xp6(5),f.Q6J("ngModel",n.content)("config",f.DdM(7,le)),f.xp6(3),f.Q6J("innerHTML",n.mergedContent,f.oJD))},dependencies:[Tt,ut.sg,W.JJ,W.On,xt.i],styles:[".tightMargin[_ngcontent-%COMP%]{margin:-10px}"]});var xr=Array.prototype.find;function Rn(){return this.firstElementChild}var _=Array.prototype.filter;function H(){return Array.from(this.children)}function bt(t){return new Array(t.length)}function Et(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function re(t){return function(){return t}}function Ht(t,e,n,r,i,o){for(var s,a=0,u=e.length,l=o.length;a<l;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new Et(t,o[a]);for(;a<u;++a)(s=e[a])&&(i[a]=s)}function Xt(t,e,n,r,i,o,a){var s,u,m,l=new Map,c=e.length,g=o.length,h=new Array(c);for(s=0;s<c;++s)(u=e[s])&&(h[s]=m=a.call(u,u.__data__,s,e)+"",l.has(m)?i[s]=u:l.set(m,u));for(s=0;s<g;++s)m=a.call(t,o[s],s,o)+"",(u=l.get(m))?(r[s]=u,u.__data__=o[s],l.delete(m)):n[s]=new Et(t,o[s]);for(s=0;s<c;++s)(u=e[s])&&l.get(h[s])===u&&(i[s]=u)}function ce(t){return t.__data__}function Mr(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function ia(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Et.prototype={constructor:Et,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Dr="http://www.w3.org/1999/xhtml";const di={svg:"http://www.w3.org/2000/svg",xhtml:Dr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ln(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),di.hasOwnProperty(e)?{space:di[e],local:t}:t}function fa(t){return function(){this.removeAttribute(t)}}function ha(t){return function(){this.removeAttributeNS(t.space,t.local)}}function da(t,e){return function(){this.setAttribute(t,e)}}function ga(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ma(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function pa(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function gi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ya(t){return function(){this.style.removeProperty(t)}}function wa(t,e,n){return function(){this.style.setProperty(t,e,n)}}function _a(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function He(t,e){return t.style.getPropertyValue(e)||gi(t).getComputedStyle(t,null).getPropertyValue(e)}function ba(t){return function(){delete this[t]}}function Ma(t,e){return function(){this[t]=e}}function Ca(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function mi(t){return t.trim().split(/^|\s+/)}function kr(t){return t.classList||new pi(t)}function pi(t){this._node=t,this._names=mi(t.getAttribute("class")||"")}function vi(t,e){for(var n=kr(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function yi(t,e){for(var n=kr(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Da(t){return function(){vi(this,t)}}function ka(t){return function(){yi(this,t)}}function Aa(t,e){return function(){(e.apply(this,arguments)?vi:yi)(this,t)}}function Ea(){this.textContent=""}function Na(t){return function(){this.textContent=t}}function Oa(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Fa(){this.innerHTML=""}function $a(t){return function(){this.innerHTML=t}}function Pa(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function La(){this.nextSibling&&this.parentNode.appendChild(this)}function za(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ha(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Dr&&e.documentElement.namespaceURI===Dr?e.createElement(t):e.createElementNS(n,t)}}function Za(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function wi(t){var e=Ln(t);return(e.local?Za:Ha)(e)}function Ba(){return null}function Ga(){var t=this.parentNode;t&&t.removeChild(this)}function qa(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ja(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ts(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function es(t){return function(){var e=this.__on;if(e){for(var o,n=0,r=-1,i=e.length;n<i;++n)o=e[n],t.type&&o.type!==t.type||o.name!==t.name?e[++r]=o:this.removeEventListener(o.type,o.listener,o.options);++r?e.length=r:delete this.__on}}}function ns(t,e,n){return function(){var i,r=this.__on,o=function ja(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),void(i.value=e);this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function _i(t,e,n){var r=gi(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function is(t,e){return function(){return _i(this,t,e)}}function os(t,e){return function(){return _i(this,t,e.apply(this,arguments))}}pi.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var xi=[null];function Jt(t,e){this._groups=t,this._parents=e}function bi(){return new Jt([[document.documentElement]],xi)}Jt.prototype=bi.prototype={constructor:Jt,select:function Un(t){"function"!=typeof t&&(t=Ye(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var u,l,o=e[i],a=o.length,s=r[i]=new Array(a),c=0;c<a;++c)(u=o[c])&&(l=t.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new Jt(r,this._parents)},selectAll:function _r(t){t="function"==typeof t?function fn(t){return function(){return un(t.apply(this,arguments))}}(t):cn(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var u,a=e[o],s=a.length,l=0;l<s;++l)(u=a[l])&&(r.push(t.call(u,u.__data__,l,a)),i.push(u));return new Jt(r,i)},selectChild:function br(t){return this.select(null==t?Rn:function Pn(t){return function(){return xr.call(this.children,t)}}("function"==typeof t?t:$n(t)))},selectChildren:function ct(t){return this.selectAll(null==t?H:function J(t){return function(){return _.call(this.children,t)}}("function"==typeof t?t:$n(t)))},filter:function Lt(t){"function"!=typeof t&&(t=Fn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var u,o=e[i],a=o.length,s=r[i]=[],l=0;l<a;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&s.push(u);return new Jt(r,this._parents)},data:function ie(t,e){if(!arguments.length)return Array.from(this,ce);var n=e?Xt:Ht,r=this._parents,i=this._groups;"function"!=typeof t&&(t=re(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],g=i[l],h=g.length,m=Mr(t.call(c,c&&c.__data__,l,r)),M=m.length,O=s[l]=new Array(M),v=a[l]=new Array(M),p=u[l]=new Array(h);n(c,g,O,v,p,m,e);for(var D,T,x=0,y=0;x<M;++x)if(D=O[x]){for(x>=y&&(y=x+1);!(T=v[y])&&++y<M;);D._next=T||null}}return(a=new Jt(a,r))._enter=s,a._exit=u,a},enter:function _e(){return new Jt(this._enter||this._groups.map(bt),this._parents)},exit:function Cr(){return new Jt(this._exit||this._groups.map(bt),this._parents)},join:function Tr(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function ea(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=Math.min(i,r.length),s=new Array(i),u=0;u<a;++u)for(var m,l=n[u],c=r[u],g=l.length,h=s[u]=new Array(g),M=0;M<g;++M)(m=l[M]||c[M])&&(h[M]=m);for(;u<i;++u)s[u]=n[u];return new Jt(s,this._parents)},selection:function us(){return this},order:function na(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var a,r=t[e],i=r.length-1,o=r[i];--i>=0;)(a=r[i])&&(o&&4^a.compareDocumentPosition(o)&&o.parentNode.insertBefore(a,o),o=a);return this},sort:function ra(t){function e(g,h){return g&&h?t(g.__data__,h.__data__):!g-!h}t||(t=ia);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var l,a=n[o],s=a.length,u=i[o]=new Array(s),c=0;c<s;++c)(l=a[c])&&(u[c]=l);u.sort(e)}return new Jt(i,this._parents).order()},call:function oa(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function aa(){return Array.from(this)},node:function sa(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function ua(){let t=0;for(const e of this)++t;return t},empty:function la(){return!this.node()},each:function ca(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s,i=e[n],o=0,a=i.length;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this},attr:function va(t,e){var n=Ln(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?ha:fa:"function"==typeof e?n.local?pa:ma:n.local?ga:da)(n,e))},style:function xa(t,e,n){return arguments.length>1?this.each((null==e?ya:"function"==typeof e?_a:wa)(t,e,n??"")):He(this.node(),t)},property:function Ta(t,e){return arguments.length>1?this.each((null==e?ba:"function"==typeof e?Ca:Ma)(t,e)):this.node()[t]},classed:function Sa(t,e){var n=mi(t+"");if(arguments.length<2){for(var r=kr(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Aa:e?Da:ka)(n,e))},text:function Ua(t){return arguments.length?this.each(null==t?Ea:("function"==typeof t?Oa:Na)(t)):this.node().textContent},html:function Ra(t){return arguments.length?this.each(null==t?Fa:("function"==typeof t?Pa:$a)(t)):this.node().innerHTML},raise:function Ia(){return this.each(La)},lower:function Ya(){return this.each(za)},append:function Va(t){var e="function"==typeof t?t:wi(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function Xa(t,e){var n="function"==typeof t?t:wi(t),r=null==e?Ba:"function"==typeof e?e:Ye(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function Wa(){return this.each(Ga)},clone:function Qa(t){return this.select(t?Ja:qa)},datum:function Ka(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function rs(t,e,n){var i,a,r=ts(t+""),o=r.length;if(!(arguments.length<2)){for(s=e?ns:es,i=0;i<o;++i)this.each(s(r[i],e,n));return this}var s=this.node().__on;if(s)for(var c,u=0,l=s.length;u<l;++u)for(i=0,c=s[u];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value},dispatch:function as(t,e){return this.each(("function"==typeof e?os:is)(t,e))},[Symbol.iterator]:function*ss(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var a,r=t[e],i=0,o=r.length;i<o;++i)(a=r[i])&&(yield a)}};const hn=bi;var ls={value:()=>{}};function Mi(){for(var r,t=0,e=arguments.length,n={};t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new In(n)}function In(t){this._=t}function cs(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}function fs(t,e){for(var i,n=0,r=t.length;n<r;++n)if((i=t[n]).name===e)return i.value}function Ci(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ls,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}In.prototype=Mi.prototype={constructor:In,on:function(t,e){var i,n=this._,r=cs(t+"",n),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=Ci(n[i],t.name,e);else if(null==e)for(i in n)n[i]=Ci(n[i],t.name,null);return this}for(;++o<a;)if((i=(t=r[o]).type)&&(i=fs(n[i],t.name)))return i},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new In(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var i,o,n=new Array(i),r=0;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,i=(o=this._[t]).length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const hs=Mi;var zn,mn,Ze=0,dn=0,gn=0,Yn=0,Ae=0,Hn=0,pn="object"==typeof performance&&performance.now?performance:Date,Di="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ar(){return Ae||(Di(ds),Ae=pn.now()+Hn)}function ds(){Ae=0}function Zn(){this._call=this._time=this._next=null}function ki(t,e,n){var r=new Zn;return r.restart(t,e,n),r}function Ai(){Ae=(Yn=pn.now())+Hn,Ze=dn=0;try{!function gs(){Ar(),++Ze;for(var e,t=zn;t;)(e=Ae-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ze}()}finally{Ze=0,function ps(){for(var t,n,e=zn,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:zn=n);mn=t,Sr(r)}(),Ae=0}}function ms(){var t=pn.now(),e=t-Yn;e>1e3&&(Hn-=e,Yn=t)}function Sr(t){Ze||(dn&&(dn=clearTimeout(dn)),t-Ae>24?(t<1/0&&(dn=setTimeout(Ai,t-pn.now()-Hn)),gn&&(gn=clearInterval(gn))):(gn||(Yn=pn.now(),gn=setInterval(ms,1e3)),Ze=1,Di(Ai)))}function Si(t,e,n){var r=new Zn;return r.restart(i=>{r.stop(),t(i+e)},e=null==e?0:+e,n),r}Zn.prototype=ki.prototype={constructor:Zn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Ar():+n)+(null==e?0:+e),!this._next&&mn!==this&&(mn?mn._next=this:zn=this,mn=this),this._call=t,this._time=n,Sr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sr())}};var vs=hs("start","end","cancel","interrupt"),ys=[];function Xn(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function ws(t,e,n){var i,r=t.__transition;function a(l){var c,g,h,m;if(1!==n.state)return u();for(c in r)if((m=r[c]).name===n.name){if(3===m.state)return Si(a);4===m.state?(m.state=6,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete r[c]):+c<e&&(m.state=6,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete r[c])}if(Si(function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(h=n.tween.length),c=0,g=-1;c<h;++c)(m=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++g]=m);i.length=g+1}}function s(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=5,1),g=-1,h=i.length;++g<h;)i[g].call(t,c);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var l in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=ki(function o(l){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=l&&a(l-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:vs,tween:ys,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Or(t,e){var n=te(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function oe(t,e){var n=te(t,e);if(n.state>3)throw new Error("too late; already running");return n}function te(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ee(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Gn,Ui=180/Math.PI,Ur={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Fi(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Ui,skewX:Math.atan(u)*Ui,scaleX:a,scaleY:s}}function $i(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}return function(l,c){var g=[],h=[];return l=t(l),c=t(c),function o(l,c,g,h,m,M){if(l!==g||c!==h){var O=m.push("translate(",null,e,null,n);M.push({i:O-4,x:ee(l,g)},{i:O-2,x:ee(c,h)})}else(g||h)&&m.push("translate("+g+e+h+n)}(l.translateX,l.translateY,c.translateX,c.translateY,g,h),function a(l,c,g,h){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),h.push({i:g.push(i(g)+"rotate(",null,r)-2,x:ee(l,c)})):c&&g.push(i(g)+"rotate("+c+r)}(l.rotate,c.rotate,g,h),function s(l,c,g,h){l!==c?h.push({i:g.push(i(g)+"skewX(",null,r)-2,x:ee(l,c)}):c&&g.push(i(g)+"skewX("+c+r)}(l.skewX,c.skewX,g,h),function u(l,c,g,h,m,M){if(l!==g||c!==h){var O=m.push(i(m)+"scale(",null,",",null,")");M.push({i:O-4,x:ee(l,g)},{i:O-2,x:ee(c,h)})}else(1!==g||1!==h)&&m.push(i(m)+"scale("+g+","+h+")")}(l.scaleX,l.scaleY,c.scaleX,c.scaleY,g,h),l=c=null,function(m){for(var v,M=-1,O=h.length;++M<O;)g[(v=h[M]).i]=v.x(m);return g.join("")}}}var Cs=$i(function bs(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ur:Fi(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),Ts=$i(function Ms(t){return null!=t&&(Gn||(Gn=document.createElementNS("http://www.w3.org/2000/svg","g")),Gn.setAttribute("transform",t),t=Gn.transform.baseVal.consolidate())?Fi((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ur},", ",")",")");function Ds(t,e){var n,r;return function(){var i=oe(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function ks(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=oe(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function Fr(t,e,n){var r=t._id;return t.each(function(){var i=oe(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return te(i,r).value[e]}}function $r(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Pi(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function vn(){}var Wn=1/.7,Ve="\\s*([+-]?\\d+)\\s*",wn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ae="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ss=/^#([0-9a-f]{3,8})$/,Es=new RegExp(`^rgb\\(${Ve},${Ve},${Ve}\\)$`),Ns=new RegExp(`^rgb\\(${ae},${ae},${ae}\\)$`),Os=new RegExp(`^rgba\\(${Ve},${Ve},${Ve},${wn}\\)$`),Us=new RegExp(`^rgba\\(${ae},${ae},${ae},${wn}\\)$`),Fs=new RegExp(`^hsl\\(${wn},${ae},${ae}\\)$`),$s=new RegExp(`^hsla\\(${wn},${ae},${ae},${wn}\\)$`),Ri={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Li(){return this.rgb().formatHex()}function Ii(){return this.rgb().formatRgb()}function Se(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ss.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?zi(e):3===n?new Gt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?qn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?qn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Es.exec(t))?new Gt(e[1],e[2],e[3],1):(e=Ns.exec(t))?new Gt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Os.exec(t))?qn(e[1],e[2],e[3],e[4]):(e=Us.exec(t))?qn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Fs.exec(t))?Zi(e[1],e[2]/100,e[3]/100,1):(e=$s.exec(t))?Zi(e[1],e[2]/100,e[3]/100,e[4]):Ri.hasOwnProperty(t)?zi(Ri[t]):"transparent"===t?new Gt(NaN,NaN,NaN,0):null}function zi(t){return new Gt(t>>16&255,t>>8&255,255&t,1)}function qn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Gt(t,e,n,r)}function Ls(t){return t instanceof vn||(t=Se(t)),t?new Gt((t=t.rgb()).r,t.g,t.b,t.opacity):new Gt}function Jn(t,e,n,r){return 1===arguments.length?Ls(t):new Gt(t,e,n,r??1)}function Gt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Yi(){return`#${Ne(this.r)}${Ne(this.g)}${Ne(this.b)}`}function Hi(){const t=Qn(this.opacity);return`${1===t?"rgb(":"rgba("}${Ee(this.r)}, ${Ee(this.g)}, ${Ee(this.b)}${1===t?")":`, ${t})`}`}function Qn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ee(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ne(t){return((t=Ee(t))<16?"0":"")+t.toString(16)}function Zi(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ne(t,e,n,r)}function Vi(t){if(t instanceof ne)return new ne(t.h,t.s,t.l,t.opacity);if(t instanceof vn||(t=Se(t)),!t)return new ne;if(t instanceof ne)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new ne(a,s,u,t.opacity)}function ne(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Bi(t){return(t=(t||0)%360)<0?t+360:t}function Kn(t){return Math.max(0,Math.min(1,t||0))}function Pr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Xi(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}$r(vn,Se,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Li,formatHex:Li,formatHex8:function Ps(){return this.rgb().formatHex8()},formatHsl:function Rs(){return Vi(this).formatHsl()},formatRgb:Ii,toString:Ii}),$r(Gt,Jn,Pi(vn,{brighter(t){return t=null==t?Wn:Math.pow(Wn,t),new Gt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new Gt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Gt(Ee(this.r),Ee(this.g),Ee(this.b),Qn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yi,formatHex:Yi,formatHex8:function Is(){return`#${Ne(this.r)}${Ne(this.g)}${Ne(this.b)}${Ne(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Hi,toString:Hi})),$r(ne,function zs(t,e,n,r){return 1===arguments.length?Vi(t):new ne(t,e,n,r??1)},Pi(vn,{brighter(t){return t=null==t?Wn:Math.pow(Wn,t),new ne(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new ne(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Gt(Pr(t>=240?t-240:t+120,i,r),Pr(t,i,r),Pr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ne(Bi(this.h),Kn(this.s),Kn(this.l),Qn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qn(this.opacity);return`${1===t?"hsl(":"hsla("}${Bi(this.h)}, ${100*Kn(this.s)}%, ${100*Kn(this.l)}%${1===t?")":`, ${t})`}`}}));const Rr=t=>()=>t;function Wi(t,e){var n=e-t;return n?function Gi(t,e){return function(n){return t+n*e}}(t,n):Rr(isNaN(t)?e:t)}const jn=function t(e){var n=function Vs(t){return 1==(t=+t)?Wi:function(e,n){return n-e?function Zs(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Rr(isNaN(e)?n:e)}}(e);function r(i,o){var a=n((i=Jn(i)).r,(o=Jn(o)).r),s=n(i.g,o.g),u=n(i.b,o.b),l=Wi(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function qi(t){return function(e){var a,s,n=e.length,r=new Array(n),i=new Array(n),o=new Array(n);for(a=0;a<n;++a)s=Jn(e[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=t(r),i=t(i),o=t(o),s.opacity=1,function(u){return s.r=r(u),s.g=i(u),s.b=o(u),s+""}}}qi(function Ys(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1];return Xi((n-r/e)*e,r>0?t[r-1]:2*i-o,i,o,r<e-1?t[r+2]:2*o-i)}}),qi(function Hs(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e);return Xi((n-r/e)*e,t[(r+e-1)%e],t[r%e],t[(r+1)%e],t[(r+2)%e])}});var Lr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ir=new RegExp(Lr.source,"g");function Ji(t,e){var r,i,o,n=Lr.lastIndex=Ir.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(r=Lr.exec(t))&&(i=Ir.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:ee(r,i)})),n=Ir.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?function Xs(t){return function(e){return t(e)+""}}(u[0].x):function Bs(t){return function(){return t}}(e):(e=u.length,function(l){for(var g,c=0;c<e;++c)s[(g=u[c]).i]=g.x(l);return s.join("")})}function Qi(t,e){var n;return("number"==typeof e?ee:e instanceof Se?jn:(n=Se(e))?(e=n,jn):Ji)(t,e)}function Gs(t){return function(){this.removeAttribute(t)}}function Ws(t){return function(){this.removeAttributeNS(t.space,t.local)}}function qs(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function Js(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function Qs(t,e,n){var r,i,o;return function(){var a,u,s=n(this);return null==s?void this.removeAttribute(t):(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}function Ks(t,e,n){var r,i,o;return function(){var a,u,s=n(this);return null==s?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}function tu(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function eu(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function nu(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&eu(t,o)),n}return i._value=e,i}function ru(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&tu(t,o)),n}return i._value=e,i}function ou(t,e){return function(){Or(this,t).delay=+e.apply(this,arguments)}}function au(t,e){return e=+e,function(){Or(this,t).delay=e}}function uu(t,e){return function(){oe(this,t).duration=+e.apply(this,arguments)}}function lu(t,e){return e=+e,function(){oe(this,t).duration=e}}function fu(t,e){if("function"!=typeof e)throw new Error;return function(){oe(this,t).ease=e}}function yu(t,e,n){var r,i,o=function vu(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||"start"===e})}(e)?Or:oe;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var Cu=hn.prototype.constructor;function Ki(t){return function(){this.style.removeProperty(t)}}function Nu(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Ou(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Nu(t,a,n)),r}return o._value=e,o}function Ru(t){return function(e){this.textContent=t.call(this,e)}}function Lu(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Ru(i)),e}return r._value=t,r}var Hu=0;function fe(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ji(){return++Hu}var he=hn.prototype;fe.prototype=function Zu(t){return hn().transition(t)}.prototype={constructor:fe,select:function bu(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ye(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var c,g,s=r[a],u=s.length,l=o[a]=new Array(u),h=0;h<u;++h)(c=s[h])&&(g=t.call(c,c.__data__,h,s))&&("__data__"in c&&(g.__data__=c.__data__),l[h]=g,Xn(l[h],e,n,h,l,te(c,n)));return new fe(o,this._parents,e,n)},selectAll:function Mu(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=cn(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c,u=r[s],l=u.length,g=0;g<l;++g)if(c=u[g]){for(var m,h=t.call(c,c.__data__,g,u),M=te(c,n),O=0,v=h.length;O<v;++O)(m=h[O])&&Xn(m,e,n,O,h,M);o.push(h),a.push(c)}return new fe(o,a,e,n)},selectChild:he.selectChild,selectChildren:he.selectChildren,filter:function mu(t){"function"!=typeof t&&(t=Fn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var u,o=e[i],a=o.length,s=r[i]=[],l=0;l<a;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&s.push(u);return new fe(r,this._parents,this._name,this._id)},merge:function pu(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=Math.min(r,n.length),a=new Array(r),s=0;s<o;++s)for(var h,u=e[s],l=n[s],c=u.length,g=a[s]=new Array(c),m=0;m<c;++m)(h=u[m]||l[m])&&(g[m]=h);for(;s<r;++s)a[s]=e[s];return new fe(a,this._parents,this._name,this._id)},selection:function Tu(){return new Cu(this._groups,this._parents)},transition:function zu(){for(var t=this._name,e=this._id,n=ji(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],s=a.length,l=0;l<s;++l)if(u=a[l]){var c=te(u,e);Xn(u,t,n,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new fe(r,this._parents,t,n)},call:he.call,nodes:he.nodes,node:he.node,size:he.size,empty:he.empty,each:he.each,on:function wu(t,e){var n=this._id;return arguments.length<2?te(this.node(),n).on.on(t):this.each(yu(n,t,e))},attr:function js(t,e){var n=Ln(t),r="transform"===n?Ts:Qi;return this.attrTween(t,"function"==typeof e?(n.local?Ks:Qs)(n,r,Fr(this,"attr."+t,e)):null==e?(n.local?Ws:Gs)(n):(n.local?Js:qs)(n,r,e))},attrTween:function iu(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Ln(t);return this.tween(n,(r.local?nu:ru)(r,e))},style:function Eu(t,e,n){var r="transform"==(t+="")?Cs:Qi;return null==e?this.styleTween(t,function Du(t,e){var n,r,i;return function(){var o=He(this,t),a=(this.style.removeProperty(t),He(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Ki(t)):"function"==typeof e?this.styleTween(t,function Au(t,e,n){var r,i,o;return function(){var a=He(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=He(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}(t,r,Fr(this,"style."+t,e))).each(function Su(t,e){var n,r,i,s,o="style."+e,a="end."+o;return function(){var u=oe(this,t),l=u.on,c=null==u.value[o]?s||(s=Ki(e)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(a,i=c),u.on=r}}(this._id,t)):this.styleTween(t,function ku(t,e,n){var r,o,i=n+"";return function(){var a=He(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function Uu(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Ou(t,e,n??""))},text:function Pu(t){return this.tween("text","function"==typeof t?function $u(t){return function(){var e=t(this);this.textContent=e??""}}(Fr(this,"text",t)):function Fu(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function Iu(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Lu(t))},remove:function xu(){return this.on("end.remove",function _u(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function As(t,e){var n=this._id;if(t+="",arguments.length<2){for(var a,r=te(this.node(),n).tween,i=0,o=r.length;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((null==e?Ds:ks)(n,t,e))},delay:function su(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?ou:au)(e,t)):te(this.node(),e).delay},duration:function cu(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?uu:lu)(e,t)):te(this.node(),e).duration},ease:function hu(t){var e=this._id;return arguments.length?this.each(fu(e,t)):te(this.node(),e).ease},easeVarying:function gu(t){if("function"!=typeof t)throw new Error;return this.each(function du(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;oe(this,t).ease=n}}(this._id,t))},end:function Yu(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){0==--i&&o()}};n.each(function(){var l=oe(this,r),c=l.on;c!==t&&((e=(t=c).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),l.on=e}),0===i&&o()})},[Symbol.iterator]:he[Symbol.iterator]};var Bu={time:null,delay:0,duration:250,ease:function Vu(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Xu(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}hn.prototype.interrupt=function xs(t){return this.each(function(){!function _s(t,e){var r,i,a,n=t.__transition,o=!0;if(n){for(a in e=null==e?null:e+"",n)(r=n[a]).name===e?(i=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]):o=!1;o&&delete t.__transition}}(this,t)})},hn.prototype.transition=function Gu(t){var e,n;t instanceof fe?(e=t._id,t=t._name):(e=ji(),(n=Bu).time=Ar(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],s=a.length,l=0;l<s;++l)(u=a[l])&&Xn(u,t,e,l,a,n||Xu(u,e));return new fe(r,this._parents,t,e)};Math;function _n(t){return{type:t}}["w","e"].map(_n),["n","s"].map(_n),["n","w","e","s","nw","ne","sw","se"].map(_n);const el=Math.sqrt(50),nl=Math.sqrt(10),rl=Math.sqrt(2);function nr(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=el?10:o>=nl?5:o>=rl?2:1;let s,u,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(t*l),u=Math.round(e*l),s/l<t&&++s,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*a,s=Math.round(t/l),u=Math.round(e/l),s*l<t&&++s,u*l>e&&--u),u<s&&.5<=n&&n<2?nr(t,e,2*n):[s,u,l]}function Vr(t,e,n){return nr(t=+t,e=+e,n=+n)[2]}function Br(t,e,n){n=+n;const r=(e=+e)<(t=+t),i=r?Vr(e,t,n):Vr(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function rr(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ol(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xr(t){let e,n,r;function i(s,u,l=0,c=s.length){if(l<c){if(0!==e(u,u))return c;do{const g=l+c>>>1;n(s[g],u)<0?l=g+1:c=g}while(l<c)}return l}return 2!==t.length?(e=rr,n=(s,u)=>rr(t(s),u),r=(s,u)=>t(s)-u):(e=t===rr||t===ol?t:al,n=t,r=t),{left:i,center:function a(s,u,l=0,c=s.length){const g=i(s,u,l,c-1);return g>l&&r(s[g-1],u)>-r(s[g],u)?g-1:g},right:function o(s,u,l=0,c=s.length){if(l<c){if(0!==e(u,u))return c;do{const g=l+c>>>1;n(s[g],u)<=0?l=g+1:c=g}while(l<c)}return l}}}function al(){return 0}const ul=Xr(rr).right,ll=(Xr(function sl(t){return null===t?NaN:+t}),ul);function ao(t,e){var a,n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n);for(a=0;a<r;++a)i[a]=Gr(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function cl(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function fl(t,e){var i,n={},r={};for(i in(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={}),e)i in t?n[i]=Gr(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}function hl(t,e){e||(e=[]);var i,n=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Gr(t,e){var r,n=typeof e;return null==e||"boolean"===n?Rr(e):("number"===n?ee:"string"===n?(r=Se(e))?(e=r,jn):Ji:e instanceof Se?jn:e instanceof Date?cl:function dl(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?hl:Array.isArray(e)?ao:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?fl:ee)(t,e)}function gl(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function pl(t){return+t}var so=[0,1];function Ge(t){return t}function Wr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function ml(t){return function(){return t}}(isNaN(e)?NaN:.5)}function yl(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Wr(i,r),o=n(a,o)):(r=Wr(r,i),o=n(o,a)),function(s){return o(r(s))}}function wl(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Wr(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var u=ll(t,s,1,r)-1;return o[u](i[u](s))}}function uo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lo(){return function _l(){var r,i,o,s,u,l,t=so,e=so,n=Gr,a=Ge;function c(){var h=Math.min(t.length,e.length);return a!==Ge&&(a=function vl(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}(t[0],t[h-1])),s=h>2?wl:yl,u=l=null,g}function g(h){return null==h||isNaN(h=+h)?o:(u||(u=s(t.map(r),e,n)))(r(a(h)))}return g.invert=function(h){return a(i((l||(l=s(e,t.map(r),ee)))(h)))},g.domain=function(h){return arguments.length?(t=Array.from(h,pl),c()):t.slice()},g.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},g.rangeRound=function(h){return e=Array.from(h),n=gl,c()},g.clamp=function(h){return arguments.length?(a=!!h||Ge,c()):a!==Ge},g.interpolate=function(h){return arguments.length?(n=h,c()):n},g.unknown=function(h){return arguments.length?(o=h,g):o},function(h,m){return r=h,i=m,c()}}()(Ge,Ge)}function qr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var co,xl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ir(t){if(!(e=xl.exec(t)))throw new Error("invalid format: "+t);var e;return new Jr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Jr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function or(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function We(t){return(t=or(Math.abs(t)))?t[1]:NaN}function fo(t,e){var n=or(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ir.prototype=Jr.prototype,Jr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ho={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function bl(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>fo(100*t,e),r:fo,s:function kl(t,e){var n=or(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(co=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+or(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function go(t){return t}var ar,vo,yo,mo=Array.prototype.map,po=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Ul(t){var e=t.domain;return t.ticks=function(n){var r=e();return function il(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];const r=e<t,[i,o,a]=r?nr(e,t,n):nr(t,e,n);if(!(o>=i))return[];const s=o-i+1,u=new Array(s);if(r)if(a<0)for(let l=0;l<s;++l)u[l]=(o-l)/-a;else for(let l=0;l<s;++l)u[l]=(o-l)*a;else if(a<0)for(let l=0;l<s;++l)u[l]=(i+l)/-a;else for(let l=0;l<s;++l)u[l]=(i+l)*a;return u}(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return function Ol(t,e,n,r){var o,i=Br(t,e,n);switch((r=ir(r??",f")).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null==r.precision&&!isNaN(o=function Ml(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(We(e)/3)))-We(Math.abs(t)))}(i,a))&&(r.precision=o),yo(r,a);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(o=function El(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,We(e)-We(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(o=function Nl(t){return Math.max(0,-We(Math.abs(t)))}(i))&&(r.precision=o-2*("%"===r.type))}return vo(r)}(i[0],i[i.length-1],n??10,r)},t.nice=function(n){null==n&&(n=10);var u,l,r=e(),i=0,o=r.length-1,a=r[i],s=r[o],c=10;for(s<a&&(l=a,a=s,s=l,l=i,i=o,o=l);c-- >0;){if((l=Vr(a,s,n))===u)return r[i]=a,r[o]=s,e(r);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else{if(!(l<0))break;a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l}u=l}return t},t}function wo(){var t=lo();return t.copy=function(){return uo(t,wo())},qr.apply(t,arguments),Ul(t)}!function Sl(t){ar=function Al(t){var e=void 0===t.grouping||void 0===t.thousands?go:function Cl(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}(mo.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",i=void 0===t.decimal?".":t.decimal+"",o=void 0===t.numerals?go:function Tl(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}(mo.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"\u2212":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function l(g){var h=(g=ir(g)).fill,m=g.align,M=g.sign,O=g.symbol,v=g.zero,p=g.width,x=g.comma,y=g.precision,D=g.trim,T=g.type;"n"===T?(x=!0,T="g"):ho[T]||(void 0===y&&(y=12),D=!0,T="g"),(v||"0"===h&&"="===m)&&(v=!0,h="0",m="=");var b="$"===O?n:"#"===O&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",P="$"===O?r:/[%p]/.test(T)?a:"",I=ho[T],Z=/[defgprs%]/.test(T);function F(N){var d,S,w,K=b,A=P;if("c"===T)A=I(N)+A,N="";else{var k=(N=+N)<0||1/N<0;if(N=isNaN(N)?u:I(Math.abs(N),y),D&&(N=function Dl(t){t:for(var i,e=t.length,n=1,r=-1;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":0===r&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(i+1):t}(N)),k&&0==+N&&"+"!==M&&(k=!1),K=(k?"("===M?M:s:"-"===M||"("===M?"":M)+K,A=("s"===T?po[8+co/3]:"")+A+(k&&"("===M?")":""),Z)for(d=-1,S=N.length;++d<S;)if(48>(w=N.charCodeAt(d))||w>57){A=(46===w?i+N.slice(d+1):N.slice(d))+A,N=N.slice(0,d);break}}x&&!v&&(N=e(N,1/0));var R=K.length+N.length+A.length,$=R<p?new Array(p-R+1).join(h):"";switch(x&&v&&(N=e($+N,$.length?p-A.length:1/0),$=""),m){case"<":N=K+N+A+$;break;case"=":N=K+$+N+A;break;case"^":N=$.slice(0,R=$.length>>1)+K+N+A+$.slice(R);break;default:N=$+K+N+A}return o(N)}return y=void 0===y?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),F.toString=function(){return g+""},F}return{format:l,formatPrefix:function c(g,h){var m=l(((g=ir(g)).type="f",g)),M=3*Math.max(-8,Math.min(8,Math.floor(We(h)/3))),O=Math.pow(10,-M),v=po[8+M/3];return function(p){return m(O*p)+v}}}}(t),vo=ar.format,yo=ar.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});class _o extends Map{constructor(e,n=Mo){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=e)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Qr(this,e))}has(e){return super.has(Qr(this,e))}set(e,n){return super.set(xo(this,e),n)}delete(e){return super.delete(bo(this,e))}}class Zf extends Set{constructor(e,n=Mo){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=e)for(const r of e)this.add(r)}has(e){return super.has(Qr(this,e))}add(e){return super.add(xo(this,e))}delete(e){return super.delete(bo(this,e))}}function Qr({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function xo({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function bo({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Mo(t){return null!==t&&"object"==typeof t?t.valueOf():t}const Co=Symbol("implicit");function To(){var t=new _o,e=[],n=[],r=Co;function i(o){let a=t.get(o);if(void 0===a){if(r!==Co)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new _o;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return To(e,n).unknown(r)},qr.apply(i,arguments),i}const ge=1e3,Kt=6e4,me=60*Kt,pe=24*me,Kr=7*pe,Do=30*pe,jr=365*pe,ti=new Date,ei=new Date;function Ft(t,e,n,r){function i(o){return t(o=0===arguments.length?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),null==a?1:Math.floor(a)),o),i.range=(o,a,s)=>{const u=[];if(o=i.ceil(o),s=null==s?1:Math.floor(s),!(o<a&&s>0))return u;let l;do{u.push(l=new Date(+o)),e(o,s),t(o)}while(l<o&&o<a);return u},i.filter=o=>Ft(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(ti.setTime(+o),ei.setTime(+a),t(ti),t(ei),Math.floor(n(ti,ei))),i.every=o=>(o=Math.floor(o),isFinite(o)&&o>0?o>1?i.filter(r?a=>r(a)%o==0:a=>i.count(0,a)%o==0):i:null)),i}const sr=Ft(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);sr.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?Ft(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):sr:null);const qe=Ft(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ge)},(t,e)=>(e-t)/ge,t=>t.getUTCSeconds()),ni=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ge)},(t,e)=>{t.setTime(+t+e*Kt)},(t,e)=>(e-t)/Kt,t=>t.getMinutes()),ko=Ft(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Kt)},(t,e)=>(e-t)/Kt,t=>t.getUTCMinutes()),ri=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ge-t.getMinutes()*Kt)},(t,e)=>{t.setTime(+t+e*me)},(t,e)=>(e-t)/me,t=>t.getHours()),Ao=Ft(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*me)},(t,e)=>(e-t)/me,t=>t.getUTCHours()),xn=Ft(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Kt)/pe,t=>t.getDate()-1),ii=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/pe,t=>t.getUTCDate()-1),So=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/pe,t=>Math.floor(t/pe));function Oe(t){return Ft(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+7*n)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Kt)/Kr)}const ur=Oe(0),lr=Oe(1),Je=(Oe(2),Oe(3),Oe(4));function Ue(t){return Ft(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+7*n)},(e,n)=>(n-e)/Kr)}Oe(5),Oe(6);const oi=Ue(0),cr=Ue(1),Qe=(Ue(2),Ue(3),Ue(4)),ai=(Ue(5),Ue(6),Ft(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear()),t=>t.getMonth())),Eo=Ft(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear()),t=>t.getUTCMonth()),ve=Ft(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ve.every=t=>isFinite(t=Math.floor(t))&&t>0?Ft(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)}):null;const xe=Ft(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());function No(t,e,n,r,i,o){const a=[[qe,1,ge],[qe,5,5e3],[qe,15,15e3],[qe,30,3e4],[o,1,Kt],[o,5,5*Kt],[o,15,15*Kt],[o,30,30*Kt],[i,1,me],[i,3,3*me],[i,6,6*me],[i,12,12*me],[r,1,pe],[r,2,2*pe],[n,1,Kr],[e,1,Do],[e,3,3*Do],[t,1,jr]];function u(l,c,g){const h=Math.abs(c-l)/g,m=Xr(([,,v])=>v).right(a,h);if(m===a.length)return t.every(Br(l/jr,c/jr,g));if(0===m)return sr.every(Math.max(Br(l,c,g),1));const[M,O]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return M.every(O)}return[function s(l,c,g){const h=c<l;h&&([l,c]=[c,l]);const m=g&&"function"==typeof g.range?g:u(l,c,g),M=m?m.range(l,+c+1):[];return h?M.reverse():M},u]}xe.every=t=>isFinite(t=Math.floor(t))&&t>0?Ft(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null;const[vh,yh]=No(xe,Eo,oi,So,Ao,ko),[Hl,Zl]=No(ve,ai,ur,xn,ri,ni);function si(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ui(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function bn(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var Ke,Tn,Oo={"-":"",_:" ",0:"0"},$t=/^\s*\d+/,Bl=/^%/,Xl=/[\\^$*+?|[\]().{}]/g;function at(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Gl(t){return t.replace(Xl,"\\$&")}function Mn(t){return new RegExp("^(?:"+t.map(Gl).join("|")+")","i")}function Cn(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Wl(t,e,n){var r=$t.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ql(t,e,n){var r=$t.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Jl(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ql(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Kl(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Uo(t,e,n){var r=$t.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Fo(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function jl(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tc(t,e,n){var r=$t.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function ec(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function $o(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function nc(t,e,n){var r=$t.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Po(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function rc(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ic(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function oc(t,e,n){var r=$t.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ac(t,e,n){var r=$t.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function sc(t,e,n){var r=Bl.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function uc(t,e,n){var r=$t.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function lc(t,e,n){var r=$t.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Ro(t,e){return at(t.getDate(),e,2)}function cc(t,e){return at(t.getHours(),e,2)}function fc(t,e){return at(t.getHours()%12||12,e,2)}function hc(t,e){return at(1+xn.count(ve(t),t),e,3)}function Lo(t,e){return at(t.getMilliseconds(),e,3)}function dc(t,e){return Lo(t,e)+"000"}function gc(t,e){return at(t.getMonth()+1,e,2)}function mc(t,e){return at(t.getMinutes(),e,2)}function pc(t,e){return at(t.getSeconds(),e,2)}function vc(t){var e=t.getDay();return 0===e?7:e}function yc(t,e){return at(ur.count(ve(t)-1,t),e,2)}function Io(t){var e=t.getDay();return e>=4||0===e?Je(t):Je.ceil(t)}function wc(t,e){return t=Io(t),at(Je.count(ve(t),t)+(4===ve(t).getDay()),e,2)}function _c(t){return t.getDay()}function xc(t,e){return at(lr.count(ve(t)-1,t),e,2)}function bc(t,e){return at(t.getFullYear()%100,e,2)}function Mc(t,e){return at((t=Io(t)).getFullYear()%100,e,2)}function Cc(t,e){return at(t.getFullYear()%1e4,e,4)}function Tc(t,e){var n=t.getDay();return at((t=n>=4||0===n?Je(t):Je.ceil(t)).getFullYear()%1e4,e,4)}function Dc(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+at(e/60|0,"0",2)+at(e%60,"0",2)}function zo(t,e){return at(t.getUTCDate(),e,2)}function kc(t,e){return at(t.getUTCHours(),e,2)}function Ac(t,e){return at(t.getUTCHours()%12||12,e,2)}function Sc(t,e){return at(1+ii.count(xe(t),t),e,3)}function Yo(t,e){return at(t.getUTCMilliseconds(),e,3)}function Ec(t,e){return Yo(t,e)+"000"}function Nc(t,e){return at(t.getUTCMonth()+1,e,2)}function Oc(t,e){return at(t.getUTCMinutes(),e,2)}function Uc(t,e){return at(t.getUTCSeconds(),e,2)}function Fc(t){var e=t.getUTCDay();return 0===e?7:e}function $c(t,e){return at(oi.count(xe(t)-1,t),e,2)}function Ho(t){var e=t.getUTCDay();return e>=4||0===e?Qe(t):Qe.ceil(t)}function Pc(t,e){return t=Ho(t),at(Qe.count(xe(t),t)+(4===xe(t).getUTCDay()),e,2)}function Rc(t){return t.getUTCDay()}function Lc(t,e){return at(cr.count(xe(t)-1,t),e,2)}function Ic(t,e){return at(t.getUTCFullYear()%100,e,2)}function zc(t,e){return at((t=Ho(t)).getUTCFullYear()%100,e,2)}function Yc(t,e){return at(t.getUTCFullYear()%1e4,e,4)}function Hc(t,e){var n=t.getUTCDay();return at((t=n>=4||0===n?Qe(t):Qe.ceil(t)).getUTCFullYear()%1e4,e,4)}function Zc(){return"+0000"}function Zo(){return"%"}function Vo(t){return+t}function Bo(t){return Math.floor(+t/1e3)}function qc(t){return new Date(t)}function Jc(t){return t instanceof Date?+t:+new Date(+t)}function Xo(t,e,n,r,i,o,a,s,u,l){var c=lo(),g=c.invert,h=c.domain,m=l(".%L"),M=l(":%S"),O=l("%I:%M"),v=l("%I %p"),p=l("%a %d"),x=l("%b %d"),y=l("%B"),D=l("%Y");function T(b){return(u(b)<b?m:s(b)<b?M:a(b)<b?O:o(b)<b?v:r(b)<b?i(b)<b?p:x:n(b)<b?y:D)(b)}return c.invert=function(b){return new Date(g(b))},c.domain=function(b){return arguments.length?h(Array.from(b,Jc)):h().map(qc)},c.ticks=function(b){var P=h();return t(P[0],P[P.length-1],b??10)},c.tickFormat=function(b,P){return null==P?T:l(P)},c.nice=function(b){var P=h();return(!b||"function"!=typeof b.range)&&(b=e(P[0],P[P.length-1],b??10)),b?h(function Wc(t,e){var a,n=0,r=(t=t.slice()).length-1,i=t[n],o=t[r];return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}(P,b)):c},c.copy=function(){return uo(c,Xo(t,e,n,r,i,o,a,s,u,l))},c}function se(t){return"string"==typeof t?new Jt([[document.querySelector(t)]],[document.documentElement]):new Jt([[t]],xi)}function Dt(t){return function(){return t}}!function Gc(t){Ke=function Vl(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=Mn(i),c=Cn(i),g=Mn(o),h=Cn(o),m=Mn(a),M=Cn(a),O=Mn(s),v=Cn(s),p=Mn(u),x=Cn(u),y={a:function k(U){return a[U.getDay()]},A:function R(U){return o[U.getDay()]},b:function $(U){return u[U.getMonth()]},B:function L(U){return s[U.getMonth()]},c:null,d:Ro,e:Ro,f:dc,g:Mc,G:Tc,H:cc,I:fc,j:hc,L:Lo,m:gc,M:mc,p:function Y(U){return i[+(U.getHours()>=12)]},q:function G(U){return 1+~~(U.getMonth()/3)},Q:Vo,s:Bo,S:pc,u:vc,U:yc,V:wc,w:_c,W:xc,x:null,X:null,y:bc,Y:Cc,Z:Dc,"%":Zo},D={a:function Nt(U){return a[U.getUTCDay()]},A:function ht(U){return o[U.getUTCDay()]},b:function dt(U){return u[U.getUTCMonth()]},B:function Ot(U){return s[U.getUTCMonth()]},c:null,d:zo,e:zo,f:Ec,g:zc,G:Hc,H:kc,I:Ac,j:Sc,L:Yo,m:Nc,M:Oc,p:function st(U){return i[+(U.getUTCHours()>=12)]},q:function kt(U){return 1+~~(U.getUTCMonth()/3)},Q:Vo,s:Bo,S:Uc,u:Fc,U:$c,V:Pc,w:Rc,W:Lc,x:null,X:null,y:Ic,Y:Yc,Z:Zc,"%":Zo},T={a:function F(U,q,j){var C=m.exec(q.slice(j));return C?(U.w=M.get(C[0].toLowerCase()),j+C[0].length):-1},A:function N(U,q,j){var C=g.exec(q.slice(j));return C?(U.w=h.get(C[0].toLowerCase()),j+C[0].length):-1},b:function K(U,q,j){var C=p.exec(q.slice(j));return C?(U.m=x.get(C[0].toLowerCase()),j+C[0].length):-1},B:function A(U,q,j){var C=O.exec(q.slice(j));return C?(U.m=v.get(C[0].toLowerCase()),j+C[0].length):-1},c:function d(U,q,j){return I(U,e,q,j)},d:$o,e:$o,f:ac,g:Fo,G:Uo,H:Po,I:Po,j:nc,L:oc,m:ec,M:rc,p:function Z(U,q,j){var C=l.exec(q.slice(j));return C?(U.p=c.get(C[0].toLowerCase()),j+C[0].length):-1},q:tc,Q:uc,s:lc,S:ic,u:ql,U:Jl,V:Ql,w:Wl,W:Kl,x:function S(U,q,j){return I(U,n,q,j)},X:function w(U,q,j){return I(U,r,q,j)},y:Fo,Y:Uo,Z:jl,"%":sc};function b(U,q){return function(j){var Vt,X,Ct,C=[],Mt=-1,ft=0,Zt=U.length;for(j instanceof Date||(j=new Date(+j));++Mt<Zt;)37===U.charCodeAt(Mt)&&(C.push(U.slice(ft,Mt)),null!=(X=Oo[Vt=U.charAt(++Mt)])?Vt=U.charAt(++Mt):X="e"===Vt?" ":"0",(Ct=q[Vt])&&(Vt=Ct(j,X)),C.push(Vt),ft=Mt+1);return C.push(U.slice(ft,Mt)),C.join("")}}function P(U,q){return function(j){var ft,Zt,C=bn(1900,void 0,1);if(I(C,U,j+="",0)!=j.length)return null;if("Q"in C)return new Date(C.Q);if("s"in C)return new Date(1e3*C.s+("L"in C?C.L:0));if(q&&!("Z"in C)&&(C.Z=0),"p"in C&&(C.H=C.H%12+12*C.p),void 0===C.m&&(C.m="q"in C?C.q:0),"V"in C){if(C.V<1||C.V>53)return null;"w"in C||(C.w=1),"Z"in C?(Zt=(ft=ui(bn(C.y,0,1))).getUTCDay(),ft=Zt>4||0===Zt?cr.ceil(ft):cr(ft),ft=ii.offset(ft,7*(C.V-1)),C.y=ft.getUTCFullYear(),C.m=ft.getUTCMonth(),C.d=ft.getUTCDate()+(C.w+6)%7):(Zt=(ft=si(bn(C.y,0,1))).getDay(),ft=Zt>4||0===Zt?lr.ceil(ft):lr(ft),ft=xn.offset(ft,7*(C.V-1)),C.y=ft.getFullYear(),C.m=ft.getMonth(),C.d=ft.getDate()+(C.w+6)%7)}else("W"in C||"U"in C)&&("w"in C||(C.w="u"in C?C.u%7:"W"in C?1:0),Zt="Z"in C?ui(bn(C.y,0,1)).getUTCDay():si(bn(C.y,0,1)).getDay(),C.m=0,C.d="W"in C?(C.w+6)%7+7*C.W-(Zt+5)%7:C.w+7*C.U-(Zt+6)%7);return"Z"in C?(C.H+=C.Z/100|0,C.M+=C.Z%100,ui(C)):si(C)}}function I(U,q,j,C){for(var Vt,X,Mt=0,ft=q.length,Zt=j.length;Mt<ft;){if(C>=Zt)return-1;if(37===(Vt=q.charCodeAt(Mt++))){if(Vt=q.charAt(Mt++),!(X=T[Vt in Oo?q.charAt(Mt++):Vt])||(C=X(U,j,C))<0)return-1}else if(Vt!=j.charCodeAt(C++))return-1}return C}return y.x=b(n,y),y.X=b(r,y),y.c=b(e,y),D.x=b(n,D),D.X=b(r,D),D.c=b(e,D),{format:function(U){var q=b(U+="",y);return q.toString=function(){return U},q},parse:function(U){var q=P(U+="",!1);return q.toString=function(){return U},q},utcFormat:function(U){var q=b(U+="",D);return q.toString=function(){return U},q},utcParse:function(U){var q=P(U+="",!0);return q.toString=function(){return U},q}}}(t),Tn=Ke.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Go=Math.abs,Yt=Math.atan2,Fe=Math.cos,Kc=Math.max,li=Math.min,ue=Math.sin,je=Math.sqrt,Wt=1e-12,Dn=Math.PI,fr=Dn/2,hr=2*Dn;function jc(t){return t>1?0:t<-1?Dn:Math.acos(t)}function Wo(t){return t>=1?fr:t<=-1?-fr:Math.asin(t)}const ci=Math.PI,fi=2*ci,$e=1e-6,tf=fi-$e;function qo(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class dr{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?qo:function ef(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return qo;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,(o=+o)<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,u=r-e,l=i-n,c=a-e,g=s-n,h=c*c+g*g;if(null===this._x1)this._append`M${this._x1=e},${this._y1=n}`;else if(h>$e)if(Math.abs(g*u-l*c)>$e&&o){let m=r-a,M=i-s,O=u*u+l*l,v=m*m+M*M,p=Math.sqrt(O),x=Math.sqrt(h),y=o*Math.tan((ci-Math.acos((O+h-v)/(2*p*x)))/2),D=y/x,T=y/p;Math.abs(D-1)>$e&&this._append`L${e+D*c},${n+D*g}`,this._append`A${o},${o},0,0,${+(g*m>c*M)},${this._x1=e+T*u},${this._y1=n+T*l}`}else this._append`L${this._x1=e},${this._y1=n}`}arc(e,n,r,i,o,a){if(e=+e,n=+n,a=!!a,(r=+r)<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),u=r*Math.sin(i),l=e+s,c=n+u,g=1^a,h=a?i-o:o-i;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>$e||Math.abs(this._y1-c)>$e)&&this._append`L${l},${c}`,r&&(h<0&&(h=h%fi+fi),h>tf?this._append`A${r},${r},0,1,${g},${e-s},${n-u}A${r},${r},0,1,${g},${this._x1=l},${this._y1=c}`:h>$e&&this._append`A${r},${r},0,${+(h>=ci)},${g},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Jo(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new dr(e)}function rf(t){return t.innerRadius}function of(t){return t.outerRadius}function af(t){return t.startAngle}function sf(t){return t.endAngle}function uf(t){return t&&t.padAngle}function lf(t,e,n,r,i,o,a,s){var u=n-t,l=r-e,c=a-i,g=s-o,h=g*u-c*l;if(!(h*h<Wt))return[t+(h=(c*(e-o)-g*(t-i))/h)*u,e+h*l]}function gr(t,e,n,r,i,o,a){var s=t-n,u=e-r,l=(a?o:-o)/je(s*s+u*u),c=l*u,g=-l*s,h=t+c,m=e+g,M=n+c,O=r+g,v=(h+M)/2,p=(m+O)/2,x=M-h,y=O-m,D=x*x+y*y,T=i-o,b=h*O-M*m,P=(y<0?-1:1)*je(Kc(0,T*T*D-b*b)),I=(b*y-x*P)/D,Z=(-b*x-y*P)/D,F=(b*y+x*P)/D,N=(-b*x+y*P)/D,K=I-v,A=Z-p,d=F-v,S=N-p;return K*K+A*A>d*d+S*S&&(I=F,Z=N),{cx:I,cy:Z,x01:-c,y01:-g,x11:I*(i/T-1),y11:Z*(i/T-1)}}function Qo(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Ko(t){this._context=t}function jo(t){return new Ko(t)}function ff(t){return t[0]}function hf(t){return t[1]}function gf(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function mf(t){return t}function tn(t,e,n){this.k=t,this.x=e,this.y=n}Ko.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},tn.prototype={constructor:tn,scale:function(t){return 1===t?this:new tn(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new tn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new tn(1,0,0);const Tf=function Cf(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),tt={createBarGraph:(t,e,n,r,i,o,a,s,u,l,c)=>{n.forEach(v=>v[a]=Math.abs(v[a]));const h=tt.getMinMax(n,"number",null,a),m=i/h.max,M=r/n.length,O=se(t).append("svg").attr("class","d3-utils").attr("width",r).attr("height",i);O.selectAll("rect").data(n).enter().append("rect").attr("x",function(v,p){return p*M}).attr("y",function(v){return i-v[a]*m}).attr("width",M-2).attr("height",function(v){return v[a]*m}).attr("class",function(v){return tt.classPicker(v[a],c)}).on("mouseover",function(v){e.transition().duration(500).style("opacity",.9);const p=`<strong>${o}:</strong> ${tt.getValue(v[o],s)}<br/><strong>${a}:</strong> ${tt.getValue(v[a],u)}<br/>`;e.html(p),O.append("text").text(tt.getValue(v[a],u)).attr("x",parseFloat(se(this).attr("x"))+parseFloat(se(this).attr("width"))/2).attr("y",parseFloat(se(this).attr("y"))+14).attr("text-anchor","middle").attr("id","hoverLabel_"+tt.getValue(v[a],0))}).on("mouseout",function(v){e.transition().duration(500).style("opacity",0),se("#hoverLabel_"+tt.getValue(v[a],0)).remove()}),O.selectAll("text").data(n).enter().append("text").text(function(v){return tt.showLabels(h,a,tt.getValue(v[a],u),l,!0)}).attr("x",function(v,p){return p*M+(M-2)/2}).attr("y",function(v){return i-v[a]*m+14}).attr("text-anchor","middle")},createLineChart:(t,e,n,r,i,o,a,s,u,l,c,g,h,m)=>{const M="date"===o,O=tt.getMinMax(n,o,u,a),v=tt.getMinMax(n,"number",u,s),p=tt.scale(o,O,[m+5,r-10],!0),x=tt.scale(null,v,[i-m,10],!0),y=sn().scale(p);M&&y.tickFormat(Tn("%b"));const D=ze().scale(x),T=se(t).append("svg").attr("class","d3-utils").attr("width",r).attr("height",i);let b=0,P=[];null!=u?n.forEach(I=>{P.push(I[u])}):P.push(n),P.forEach(I=>{const Z=function df(t,e){var n=Dt(!0),r=null,i=jo,o=null,a=Jo(s);function s(u){var l,g,m,c=(u=Qo(u)).length,h=!1;for(null==r&&(o=i(m=a())),l=0;l<=c;++l)!(l<c&&n(g=u[l],l,u))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(g,l,u),+e(g,l,u));if(m)return o=null,m+""||null}return t="function"==typeof t?t:void 0===t?ff:Dt(t),e="function"==typeof e?e:void 0===e?hf:Dt(e),s.x=function(u){return arguments.length?(t="function"==typeof u?u:Dt(+u),s):t},s.y=function(u){return arguments.length?(e="function"==typeof u?u:Dt(+u),s):e},s.defined=function(u){return arguments.length?(n="function"==typeof u?u:Dt(!!u),s):n},s.curve=function(u){return arguments.length?(i=u,null!=r&&(o=i(r)),s):i},s.context=function(u){return arguments.length?(null==u?r=o=null:o=i(r=u),s):r},s}().x(function(F){return p(M?new Date(F[a]):F[a])}).y(function(F){return F[s]?x(F[s]):null}).curve(jo);T.append("path").attr("class","d3-path d3-path-"+b++).attr("d",Z(I)).attr("fill","none"),T.selectAll().data(I).enter().append("circle").attr("cx",function(F){return p(M?new Date(F[a]):F[a])}).attr("cy",function(F){return x(F[s])}).attr("r",3).attr("class",function(F){return tt.classPicker(F[s],h)}).on("mouseover",function(F){e.transition().duration(500).style("opacity",.9);const N=`<strong>${a}:</strong> ${tt.getValue(F[a],l)}<br/><strong>${s}:</strong> ${tt.getValue(F[s],c)}<br/>`;e.html(N)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0)}),T.selectAll("text").data(I).enter().append("text").text(function(F){return tt.showLabels(v,s,tt.getValue(F[s],c),g,!0)}).attr("x",function(F){return p(M?new Date(F[a]):F[a])}).attr("y",function(F){return x(F[s])}).attr("text-anchor","start").attr("class",function(F){return tt.classPicker(F[s],h)}),T.append("g").call(y).attr("class","d3-axis").attr("transform","translate(0, "+(i-m)+")"),T.append("g").attr("class","d3-axis").attr("transform","translate("+m+", 0)").call(D)})},createPieChart:(t,e,n,r,i,o,a,s,u,l)=>{const c=r/2,g=se(t).append("svg:svg").data([n]).attr("class","d3-utils").attr("width",2*c).attr("height",2*c).append("svg:g").attr("transform","translate("+c+","+c+")"),h=function pf(){var t=mf,e=gf,n=null,r=Dt(0),i=Dt(hr),o=Dt(0);function a(s){var u,c,g,p,D,l=(s=Qo(s)).length,h=0,m=new Array(l),M=new Array(l),O=+r.apply(this,arguments),v=Math.min(hr,Math.max(-hr,i.apply(this,arguments)-O)),x=Math.min(Math.abs(v)/l,o.apply(this,arguments)),y=x*(v<0?-1:1);for(u=0;u<l;++u)(D=M[m[u]=u]=+t(s[u],u,s))>0&&(h+=D);for(null!=e?m.sort(function(T,b){return e(M[T],M[b])}):null!=n&&m.sort(function(T,b){return n(s[T],s[b])}),u=0,g=h?(v-l*y)/h:0;u<l;++u,O=p)M[c=m[u]]={data:s[c],index:u,value:D=M[c],startAngle:O,endAngle:p=O+(D>0?D*g:0)+y,padAngle:x};return M}return a.value=function(s){return arguments.length?(t="function"==typeof s?s:Dt(+s),a):t},a.sortValues=function(s){return arguments.length?(e=s,n=null,a):e},a.sort=function(s){return arguments.length?(n=s,e=null,a):n},a.startAngle=function(s){return arguments.length?(r="function"==typeof s?s:Dt(+s),a):r},a.endAngle=function(s){return arguments.length?(i="function"==typeof s?s:Dt(+s),a):i},a.padAngle=function(s){return arguments.length?(o="function"==typeof s?s:Dt(+s),a):o},a}().value(function(x){return x[a]}),m=g.selectAll("g.slice").data(h).enter().append("svg:g").attr("class","slice"),M=To(Tf),O=function cf(){var t=rf,e=of,n=Dt(0),r=null,i=af,o=sf,a=uf,s=null,u=Jo(l);function l(){var c,g,h=+t.apply(this,arguments),m=+e.apply(this,arguments),M=i.apply(this,arguments)-fr,O=o.apply(this,arguments)-fr,v=Go(O-M),p=O>M;if(s||(s=c=u()),m<h&&(g=m,m=h,h=g),m>Wt)if(v>hr-Wt)s.moveTo(m*Fe(M),m*ue(M)),s.arc(0,0,m,M,O,!p),h>Wt&&(s.moveTo(h*Fe(O),h*ue(O)),s.arc(0,0,h,O,M,p));else{var A,d,x=M,y=O,D=M,T=O,b=v,P=v,I=a.apply(this,arguments)/2,Z=I>Wt&&(r?+r.apply(this,arguments):je(h*h+m*m)),F=li(Go(m-h)/2,+n.apply(this,arguments)),N=F,K=F;if(Z>Wt){var S=Wo(Z/h*ue(I)),w=Wo(Z/m*ue(I));(b-=2*S)>Wt?(D+=S*=p?1:-1,T-=S):(b=0,D=T=(M+O)/2),(P-=2*w)>Wt?(x+=w*=p?1:-1,y-=w):(P=0,x=y=(M+O)/2)}var k=m*Fe(x),R=m*ue(x),$=h*Fe(T),L=h*ue(T);if(F>Wt){var dt,Y=m*Fe(y),G=m*ue(y),Nt=h*Fe(D),ht=h*ue(D);if(v<Dn)if(dt=lf(k,R,Nt,ht,Y,G,$,L)){var Ot=k-dt[0],st=R-dt[1],kt=Y-dt[0],U=G-dt[1],q=1/ue(jc((Ot*kt+st*U)/(je(Ot*Ot+st*st)*je(kt*kt+U*U)))/2),j=je(dt[0]*dt[0]+dt[1]*dt[1]);N=li(F,(h-j)/(q-1)),K=li(F,(m-j)/(q+1))}else N=K=0}P>Wt?K>Wt?(A=gr(Nt,ht,k,R,m,K,p),d=gr(Y,G,$,L,m,K,p),s.moveTo(A.cx+A.x01,A.cy+A.y01),K<F?s.arc(A.cx,A.cy,K,Yt(A.y01,A.x01),Yt(d.y01,d.x01),!p):(s.arc(A.cx,A.cy,K,Yt(A.y01,A.x01),Yt(A.y11,A.x11),!p),s.arc(0,0,m,Yt(A.cy+A.y11,A.cx+A.x11),Yt(d.cy+d.y11,d.cx+d.x11),!p),s.arc(d.cx,d.cy,K,Yt(d.y11,d.x11),Yt(d.y01,d.x01),!p))):(s.moveTo(k,R),s.arc(0,0,m,x,y,!p)):s.moveTo(k,R),h>Wt&&b>Wt?N>Wt?(A=gr($,L,Y,G,h,-N,p),d=gr(k,R,Nt,ht,h,-N,p),s.lineTo(A.cx+A.x01,A.cy+A.y01),N<F?s.arc(A.cx,A.cy,N,Yt(A.y01,A.x01),Yt(d.y01,d.x01),!p):(s.arc(A.cx,A.cy,N,Yt(A.y01,A.x01),Yt(A.y11,A.x11),!p),s.arc(0,0,h,Yt(A.cy+A.y11,A.cx+A.x11),Yt(d.cy+d.y11,d.cx+d.x11),p),s.arc(d.cx,d.cy,N,Yt(d.y11,d.x11),Yt(d.y01,d.x01),!p))):s.arc(0,0,h,T,D,p):s.lineTo($,L)}else s.moveTo(0,0);if(s.closePath(),c)return s=null,c+""||null}return l.centroid=function(){var c=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,g=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Dn/2;return[Fe(g)*c,ue(g)*c]},l.innerRadius=function(c){return arguments.length?(t="function"==typeof c?c:Dt(+c),l):t},l.outerRadius=function(c){return arguments.length?(e="function"==typeof c?c:Dt(+c),l):e},l.cornerRadius=function(c){return arguments.length?(n="function"==typeof c?c:Dt(+c),l):n},l.padRadius=function(c){return arguments.length?(r=null==c?null:"function"==typeof c?c:Dt(+c),l):r},l.startAngle=function(c){return arguments.length?(i="function"==typeof c?c:Dt(+c),l):i},l.endAngle=function(c){return arguments.length?(o="function"==typeof c?c:Dt(+c),l):o},l.padAngle=function(c){return arguments.length?(a="function"==typeof c?c:Dt(+c),l):a},l.context=function(c){return arguments.length?(s=c??null,l):s},l}().outerRadius(c).innerRadius(0);m.append("svg:path").attr("fill",function(x,y){return M(y)}).attr("d",function(x){return O(x)}).on("mouseover",function(x,y){e.transition().duration(500).style("opacity",.9);const D=`<strong>${o}:</strong> ${tt.getValue(n[y][o],s)}<br/><strong>${a}:</strong> ${tt.getValue(n[y][a],u)}<br/>`;e.html(D)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0)});const v="date"===i,p=Tn("%b");m.append("svg:text").attr("class","d3-axis").attr("transform",function(x){x.innerRadius=0,x.outerRadius=c;const y=.9*c,D=O.centroid(x),T=D[0],b=D[1],P=Math.sqrt(T*T+b*b);return"translate("+T/P*y+","+b/P*y+")"}).attr("text-anchor","middle").text(function(x,y){const D=function B(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}(n,function(I){return I[a]}),T=function vt(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}(n,function(I){return I[a]}),b=n[y][o],P=n[y][a];if("none"!==l&&("minmax"===l&&(P===D||P===T)||"all"===l))return v?p(new Date(b)):b})},createScatterPlot:(t,e,n,r,i,o,a,s,u,l,c,g,h,m)=>{const M="date"===o,O=tt.getMinMax(n,o,null,a),v=tt.getMinMax(n,"number",null,s),p=tt.scale(o,O,[m+5,r-10],!0),x=tt.scale(null,v,[i-m,10],!0),y=sn().scale(p);M&&y.tickFormat(Tn("%b"));const D=ze().scale(x),T=se(t).append("svg").attr("class","d3-utils").attr("width",r).attr("height",i);let P=[];null!=u?n.forEach(I=>{P.push(I[u])}):P.push(n),P.forEach(I=>{T.selectAll("circle").data(I).enter().append("circle").attr("cx",function(Z){return p(M?new Date(Z[a]):Z[a])}).attr("cy",function(Z){return x(Z[s])}).attr("r",5).attr("class",function(Z){return tt.classPicker(Z[s],h)}).on("mouseover",function(Z){e.transition().duration(500).style("opacity",.9);const F=`<strong>${a}:</strong> ${tt.getValue(Z[a],l)}<br/><strong>${s}:</strong> ${tt.getValue(Z[s],c)}<br/>`;e.html(F)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0)}),T.selectAll("text").data(I).enter().append("text").text(function(Z){return tt.showLabels(v,s,tt.getValue(Z[s],c),g,!0)}).attr("x",function(Z){return p(M?new Date(Z[a]):Z[a])}).attr("y",function(Z){return x(Z[s])}).attr("text-anchor","start").attr("class",function(Z){return tt.classPicker(Z[s],h)}),T.append("g").attr("class","d3-axis").attr("transform","translate(0, "+(i-m)+")").call(y),T.append("g").attr("class","d3-axis").attr("transform","translate("+m+", 0)").call(D)})},classPicker:(t,e)=>t>=e?"d3-warning":"d3-default",draw:t=>{switch(se((t={data:null,el:null,height:300,labels:"all",padding:50,tooltip:null,type:"line",warningLevel:1/0,width:300,xKey:"x",xToFixed:1/0,xType:"number",yKey:"y",yToFixed:1/0,zKey:"z",...t}).el).selectAll("*").remove(),t.type){case"bar":tt.createBarGraph(t.el,t.tooltip,t.data,t.width,t.height,t.xKey,t.yKey,t.xToFixed,t.yToFixed,t.labels,t.warningLevel);break;case"line":tt.createLineChart(t.el,t.tooltip,t.data,t.width,t.height,t.xType,t.xKey,t.yKey,t.zKey,t.xToFixed,t.yToFixed,t.labels,t.warningLevel,t.padding);break;case"pie":tt.createPieChart(t.el,t.tooltip,t.data,t.width,t.xType,t.xKey,t.yKey,t.xToFixed,t.yToFixed,t.labels);break;case"scatter":tt.createScatterPlot(t.el,t.tooltip,t.data,t.width,t.height,t.xType,t.xKey,t.yKey,t.zKey,t.xToFixed,t.yToFixed,t.labels,t.warningLevel,t.padding)}},getMinMax:(t,e,n,r)=>{let i=Number.MAX_VALUE,o=-Number.MAX_VALUE,a=[];return null!=n?t.forEach(s=>{a.push(s[n])}):a.push(t),a.forEach(s=>{s.forEach(u=>{let l=u[r];l&&("date"===e?(i=Math.min(i,new Date(l)),o=Math.max(o,new Date(l))):(i=Math.min(i,Number(l)),o=Math.max(o,Number(l))))})}),{min:i,max:o}},getValue:(t,e)=>e===1/0?t:t.toFixed(e),scale:(t,e,n,r=!1)=>{let i;return"date"===t?i=function Qc(){return qr.apply(Xo(Hl,Zl,ve,ai,ur,xn,ri,ni,qe,Tn).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}():(r||(e.min=0),i=wo()),i.domain([e.min,e.max]).range(n)},showLabels:(t,e,n,r,i=!0)=>(i||(t.min=0),"none"===r||("minmax"!==r||n!==t.max&&n!==t.min)&&"all"!==r?null:n)},Df=tt;class kn{constructor(e){this.el=e,this.isReady=!1,this.data=null,this.height=300,this.labels="all",this.padding=50,this.type="line",this.warningLevel=1/0,this.width=350,this.xKey="x",this.xToFixed=1/0,this.xType="number",this.yKey="y",this.yToFixed=1/0,this.zKey=null}ngOnInit(){this.isReady=!0,this.draw()}ngOnChanges(){this.isReady&&this.draw()}abs(e,n){return e.map(r=>(r[n]=Math.abs(r[n]),r))}draw(){this.tooltip=se("body").append("div").attr("class","d3-tooltip").style("opacity",0).style("pointer-events","none").style("position","absolute"),Df.draw({data:this.data,el:this.el.nativeElement,height:this.height,labels:this.labels,padding:this.padding,tooltip:this.tooltip,type:this.type,warningLevel:this.warningLevel,width:this.width,xKey:this.xKey,xToFixed:this.xToFixed,xType:this.xType,yKey:this.yKey,yToFixed:this.yToFixed,zKey:this.zKey})}}function kf(t,e){if(1&t&&(f.TgZ(0,"option",24),f._uU(1),f.qZA()),2&t){const n=e.$implicit;f.Q6J("value",n),f.xp6(1),f.Oqu(n)}}kn.\u0275fac=function(e){return new(e||kn)(f.Y36(f.SBq))},kn.\u0275cmp=f.Xpm({type:kn,selectors:[["app-d3-graph"]],inputs:{data:"data",height:"height",labels:"labels",padding:"padding",type:"type",warningLevel:"warningLevel",width:"width",xKey:"xKey",xToFixed:"xToFixed",xType:"xType",yKey:"yKey",yToFixed:"yToFixed",zKey:"zKey"},features:[f.TTD],decls:1,vars:0,template:function(e,n){1&e&&f._UZ(0,"div")},styles:[".d3-path-0[_ngcontent-%COMP%]{stroke:#0000cd!important}.d3-path-1[_ngcontent-%COMP%]{stroke:#b22222!important}.d3-path-2[_ngcontent-%COMP%]{stroke:#006400!important}.d3-path-3[_ngcontent-%COMP%]{stroke:#9400d3!important}.d3-path-4[_ngcontent-%COMP%]{stroke:#1e90ff!important}.d3-path-5[_ngcontent-%COMP%]{stroke:red!important}.d3-path-6[_ngcontent-%COMP%]{stroke:#32cd32!important}.d3-path-7[_ngcontent-%COMP%]{stroke:#2f4f4f!important}.d3-path-8[_ngcontent-%COMP%]{stroke:#00bfff!important}.d3-path-9[_ngcontent-%COMP%]{stroke:#ff8c00!important}.d3-path-10[_ngcontent-%COMP%]{stroke:#00fa9a!important}.d3-path-11[_ngcontent-%COMP%]{stroke:violet!important}.d3-path-12[_ngcontent-%COMP%]{stroke:#0ff!important}.d3-path-13[_ngcontent-%COMP%]{stroke:peru!important}",".d3-utils[_ngcontent-%COMP%]   .d3-default[_ngcontent-%COMP%]{fill:#337ab7}.d3-utils[_ngcontent-%COMP%]   .d3-warning[_ngcontent-%COMP%]{fill:#f0ad4e}.d3-utils[_ngcontent-%COMP%]   .d3-path[_ngcontent-%COMP%]{stroke:#337ab7;stroke-width:2}.d3-utils[_ngcontent-%COMP%]   .d3-tooltip[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;box-shadow:4px 4px 10px #00000080;padding:5px}.d3-utils[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .d3-utils[_ngcontent-%COMP%]   line[_ngcontent-%COMP%], .d3-axis[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .d3-axis[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#337ab7}.d3-utils[_ngcontent-%COMP%]   .d3-axis[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font-family:sans-serif;font-size:10px}"]});class An{constructor(e){this.route=e,this.data=[{month:"2015-01",sales:100},{month:"2015-02",sales:130},{month:"2015-03",sales:170},{month:"2015-04",sales:220},{month:"2015-05",sales:280},{month:"2015-06",sales:300},{month:"2015-07",sales:270},{month:"2015-08",sales:230},{month:"2015-09",sales:180},{month:"2015-10",sales:140},{month:"2015-11",sales:120},{month:"2015-12",sales:130}],this.height=300,this.labels=["none","all","minmax"],this.label="minmax",this.warningLevel=250,this.width=350}ngOnInit(){this.sub=this.route.params.subscribe(e=>{const n=+e.height;n&&(this.height=n);const r=+e.width;r&&(this.width=r);const i=e.label;i&&(this.label=i);const o=+e.warningLevel;o&&(this.warningLevel=o)})}ngOnDestroy(){this.sub.unsubscribe()}onUpdateLabel(e){this.label=e.target.value}}An.\u0275fac=function(e){return new(e||An)(f.Y36(V.gz))},An.\u0275cmp=f.Xpm({type:An,selectors:[["app-graph-demo"]],decls:44,vars:26,consts:[[1,"d-flex","flex-column","align-items-center"],[1,"mb-3"],[1,"card","settings","mb-5"],[1,"card-body"],[1,"card-title"],[1,"d-flex"],[1,"flex-column","w-50","pr-3"],[1,"form-group"],["for","widthControl"],["type","number","required","","min","100","max","1024","placeholder","width (#)","pattern","[0-9]+",1,"form-control",3,"ngModel","ngModelChange"],["for","heightControl"],["type","number","required","","min","100","max","768","placeholder","height (#)","pattern","[0-9]+",1,"form-control",3,"ngModel","ngModelChange"],[1,"flex-column","w-50"],["for","labelControl"],[1,"form-control",3,"ngModel","change"],[3,"value",4,"ngFor","ngForOf"],["for","warningLevelControl"],["type","number","required","","min","0","placeholder","Warning Level (#)","pattern","[0-9]+",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-around","flex-wrap"],[1,"p-3"],["type","bar","xKey","month","yKey","sales",3,"data","width","height","labels","warningLevel"],["type","line","xType","date","xKey","month","yKey","sales",3,"data","width","height","labels","padding","warningLevel"],["type","scatter","xType","date","xKey","month","yKey","sales",3,"data","width","height","labels","padding","warningLevel"],["type","pie","xType","date","xKey","month","yKey","sales",3,"data","width","labels","warningLevel"],[3,"value"]],template:function(e,n){1&e&&(f.TgZ(0,"div",0)(1,"h2",1),f._uU(2,"Graph Demo"),f.qZA(),f.TgZ(3,"div",2)(4,"div",3)(5,"h5",4),f._uU(6,"Settings"),f.qZA(),f.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),f._uU(11,"Width"),f.qZA(),f.TgZ(12,"input",9),f.NdJ("ngModelChange",function(i){return n.width=i}),f.qZA()(),f.TgZ(13,"div",7)(14,"label",10),f._uU(15,"Height"),f.qZA(),f.TgZ(16,"input",11),f.NdJ("ngModelChange",function(i){return n.height=i}),f.qZA()()(),f.TgZ(17,"div",12)(18,"div",7)(19,"label",13),f._uU(20,"Label"),f.qZA(),f.TgZ(21,"select",14),f.NdJ("change",function(i){return n.onUpdateLabel(i)}),f.YNc(22,kf,2,2,"option",15),f.qZA()(),f.TgZ(23,"div",7)(24,"label",16),f._uU(25,"Warning Level"),f.qZA(),f.TgZ(26,"input",17),f.NdJ("ngModelChange",function(i){return n.warningLevel=i}),f.qZA()()()()()(),f.TgZ(27,"div",18)(28,"div",19)(29,"h5"),f._uU(30,"Bar Graph"),f.qZA(),f._UZ(31,"app-d3-graph",20),f.qZA(),f.TgZ(32,"div",19)(33,"h5"),f._uU(34,"Line Chart"),f.qZA(),f._UZ(35,"app-d3-graph",21),f.qZA(),f.TgZ(36,"div",19)(37,"h5"),f._uU(38,"Scatter Plot"),f.qZA(),f._UZ(39,"app-d3-graph",22),f.qZA(),f.TgZ(40,"div",19)(41,"h5"),f._uU(42,"Pie Chart"),f.qZA(),f._UZ(43,"app-d3-graph",23),f.qZA()()()),2&e&&(f.xp6(12),f.Q6J("ngModel",n.width),f.xp6(4),f.Q6J("ngModel",n.height),f.xp6(5),f.Q6J("ngModel",n.label),f.xp6(1),f.Q6J("ngForOf",n.labels),f.xp6(4),f.Q6J("ngModel",n.warningLevel),f.xp6(5),f.Q6J("data",n.data)("width",n.width)("height",n.height)("labels",n.label)("warningLevel",n.warningLevel),f.xp6(4),f.Q6J("data",n.data)("width",n.width)("height",n.height)("labels",n.label)("padding",25)("warningLevel",n.warningLevel),f.xp6(4),f.Q6J("data",n.data)("width",n.width)("height",n.height)("labels",n.label)("padding",25)("warningLevel",n.warningLevel),f.xp6(4),f.Q6J("data",n.data)("width",n.width)("labels",n.label)("warningLevel",n.warningLevel))},dependencies:[ut.sg,W.YN,W.Kr,W.Fj,W.wV,W.EJ,W.JJ,W.Q7,W.c5,W.qQ,W.Fd,W.On,kn],styles:[".graph-inline[_ngcontent-%COMP%]{display:inline-block;padding:20px}.settings[_ngcontent-%COMP%]{max-width:600px}"]});var Af=z(4563);class en{}en.\u0275fac=function(e){return new(e||en)},en.\u0275mod=f.oAB({type:en}),en.\u0275inj=f.cJS({providers:[Af.A],imports:[Le,ut.ez,mt.forRoot(),yt.JF,W.u5,V.Bz.forChild([{path:"drag",component:Qt},{path:"editor",component:jt},{path:"graph",component:An},{path:"floor",loadChildren:()=>z.e(126).then(z.bind(z,4126)).then(t=>t.FloorModule)},{path:"other",loadChildren:()=>z.e(431).then(z.bind(z,9431)).then(t=>t.OtherModule)}]),En.m]})},4563:(Ut,At,z)=>{"use strict";z.d(At,{A:()=>it});var ut=z(2843),yt=z(4004),W=z(262),V=z(1571),f=z(529);class it{constructor(ot){this.http=ot,this.tickerUrl="https://blockchain.info/ticker?cors=true"}getUsdExchangeRate(){return this.http.get(this.tickerUrl).pipe((0,yt.U)(ot=>ot.USD.last),(0,W.K)(this.handleError))}handleError(ot){return console.error(ot),(0,ut._)(ot||"Server error")}}it.\u0275fac=function(ot){return new(ot||it)(V.LFG(f.eN))},it.\u0275prov=V.Yz7({token:it,factory:it.\u0275fac})},3214:Ut=>{Ut.exports=function(z,ut){return Array.prototype.slice.call(z,ut)}},1627:(Ut,At,z)=>{"use strict";var ut=z(4233);Ut.exports=function(W,V,f){W&&ut(function(){W.apply(f||null,V||[])})}},7604:(Ut,At,z)=>{"use strict";var ut=z(3214),yt=z(1627);Ut.exports=function(V,f){var it=f||{},_t={};return void 0===V&&(V={}),V.on=function(ot,Pt){return _t[ot]?_t[ot].push(Pt):_t[ot]=[Pt],V},V.once=function(ot,Pt){return Pt._once=!0,V.on(ot,Pt),V},V.off=function(ot,Pt){var Rt=arguments.length;if(1===Rt)delete _t[ot];else if(0===Rt)_t={};else{var qt=_t[ot];if(!qt)return V;qt.splice(qt.indexOf(Pt),1)}return V},V.emit=function(){var ot=ut(arguments);return V.emitterSnapshot(ot.shift()).apply(this,ot)},V.emitterSnapshot=function(ot){var Pt=(_t[ot]||[]).slice(0);return function(){var Rt=ut(arguments),qt=this||V;if("error"===ot&&!1!==it.throws&&!Pt.length)throw 1===Rt.length?Rt[0]:Rt;return Pt.forEach(function(lt){it.async?yt(lt,Rt,qt):lt.apply(qt,Rt),lt._once&&V.off(ot,lt)}),V}},V}},7225:(Ut,At,z)=>{"use strict";var ut=z(5728),yt=z(4139),W=global.document,V=function _t(Q,nt,wt,et){return Q.addEventListener(nt,wt,et)},f=function Pt(Q,nt,wt,et){return Q.removeEventListener(nt,wt,et)},it=[];function Me(Q,nt,wt){var et=function Re(Q,nt,wt){var et,Bt;for(et=0;et<it.length;et++)if((Bt=it[et]).element===Q&&Bt.type===nt&&Bt.fn===wt)return et}(Q,nt,wt);if(et){var Bt=it[et].wrapper;return it.splice(et,1),Bt}}global.addEventListener||(V=function ot(Q,nt,wt){return Q.attachEvent("on"+nt,function lt(Q,nt,wt){var et=Me(Q,nt,wt)||function Pe(Q,nt,wt){return function(Bt){var mt=Bt||global.event;mt.target=mt.target||mt.srcElement,mt.preventDefault=mt.preventDefault||function(){mt.returnValue=!1},mt.stopPropagation=mt.stopPropagation||function(){mt.cancelBubble=!0},mt.which=mt.which||mt.keyCode,wt.call(Q,mt)}}(Q,0,wt);return it.push({wrapper:et,element:Q,type:nt,fn:wt}),et}(Q,nt,wt))},f=function Rt(Q,nt,wt){var et=Me(Q,nt,wt);if(et)return Q.detachEvent("on"+nt,et)}),Ut.exports={add:V,remove:f,fabricate:function qt(Q,nt,wt){var et=-1===yt.indexOf(nt)?function mt(){return new ut(nt,{detail:wt})}():function Bt(){var E;return W.createEvent?(E=W.createEvent("Event")).initEvent(nt,!0,!0):W.createEventObject&&(E=W.createEventObject()),E}();Q.dispatchEvent?Q.dispatchEvent(et):Q.fireEvent("on"+nt,et)}}},4139:Ut=>{"use strict";var At=[],z="",ut=/^on/;for(z in global)ut.test(z)&&At.push(z.slice(2));Ut.exports=At},5728:Ut=>{var At=global.CustomEvent;Ut.exports=function z(){try{var ut=new At("cat",{detail:{foo:"bar"}});return"cat"===ut.type&&"bar"===ut.detail.foo}catch{}return!1}()?At:typeof document<"u"&&"function"==typeof document.createEvent?function(yt,W){var V=document.createEvent("CustomEvent");return W?V.initCustomEvent(yt,W.bubbles,W.cancelable,W.detail):V.initCustomEvent(yt,!1,!1,void 0),V}:function(yt,W){var V=document.createEventObject();return V.type=yt,W?(V.bubbles=Boolean(W.bubbles),V.cancelable=Boolean(W.cancelable),V.detail=W.detail):(V.bubbles=!1,V.cancelable=!1,V.detail=void 0),V}},1832:Ut=>{"use strict";var At={};function yt(f){var it=At[f];return it?it.lastIndex=0:At[f]=it=new RegExp("(?:^|\\s)"+f+"(?:\\s|$)","g"),it}Ut.exports={add:function W(f,it){var _t=f.className;_t.length?yt(it).test(_t)||(f.className+=" "+it):f.className=it},rm:function V(f,it){f.className=f.className.replace(yt(it)," ").trim()}}},9721:(Ut,At,z)=>{"use strict";var ut=z(7604),yt=z(7225),W=z(1832),V=document,f=V.documentElement;function _t(E,pt,St,rt){global.navigator.pointerEnabled?yt[pt](E,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[St],rt):global.navigator.msPointerEnabled?yt[pt](E,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[St],rt):(yt[pt](E,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[St],rt),yt[pt](E,St,rt))}function ot(E){if(void 0!==E.touches)return E.touches.length;if(void 0!==E.which&&0!==E.which)return E.which;if(void 0!==E.buttons)return E.buttons;var pt=E.button;return void 0!==pt?1&pt?1:2&pt?3:4&pt?2:0:void 0}function Pt(E){var pt=E.getBoundingClientRect();return{left:pt.left+Rt("scrollLeft","pageXOffset"),top:pt.top+Rt("scrollTop","pageYOffset")}}function Rt(E,pt){return typeof global[pt]<"u"?global[pt]:f.clientHeight?f[E]:V.body[E]}function qt(E,pt,St){var gt,rt=(E=E||{}).className||"";return E.className+=" gu-hide",gt=V.elementFromPoint(pt,St),E.className=rt,gt}function Pe(){return!1}function lt(){return!0}function Me(E){return E.width||E.right-E.left}function Re(E){return E.height||E.bottom-E.top}function Q(E){return E.parentNode===V?null:E.parentNode}function nt(E){return"INPUT"===E.tagName||"TEXTAREA"===E.tagName||"SELECT"===E.tagName||wt(E)}function wt(E){return!(!E||"false"===E.contentEditable)&&("true"===E.contentEditable||wt(Q(E)))}function et(E){return E.nextElementSibling||function pt(){var St=E;do{St=St.nextSibling}while(St&&1!==St.nodeType);return St}()}function mt(E,pt){var St=function Bt(E){return E.targetTouches&&E.targetTouches.length?E.targetTouches[0]:E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:E}(pt),rt={pageX:"clientX",pageY:"clientY"};return E in rt&&!(E in St)&&rt[E]in St&&(E=rt[E]),St[E]}Ut.exports=function it(E,pt){var St=arguments.length;1===St&&!1===Array.isArray(E)&&(pt=E,E=[]);var rt,gt,Tt,Le,En,ye,Nn,Ce,Qt,xt,nn,jt,le=null,B=pt||{};void 0===B.moves&&(B.moves=lt),void 0===B.accepts&&(B.accepts=lt),void 0===B.invalid&&(B.invalid=hi),void 0===B.containers&&(B.containers=E||[]),void 0===B.isContainer&&(B.isContainer=Pe),void 0===B.copy&&(B.copy=!1),void 0===B.copySortSource&&(B.copySortSource=!1),void 0===B.revertOnSpill&&(B.revertOnSpill=!1),void 0===B.removeOnSpill&&(B.removeOnSpill=!1),void 0===B.direction&&(B.direction="vertical"),void 0===B.ignoreInputTextSelection&&(B.ignoreInputTextSelection=!0),void 0===B.mirrorContainer&&(B.mirrorContainer=V.body);var vt=ut({containers:B.containers,start:yr,end:wr,cancel:Un,remove:Ye,destroy:De,canMove:vr,dragging:!1});return!0===B.removeOnSpill&&vt.on("over",_r).on("out",Fn),Te(),vt;function rn(_){return-1!==vt.containers.indexOf(_)||B.isContainer(_)}function Te(_){var H=_?"remove":"add";_t(f,H,"mousedown",mr),_t(f,H,"mouseup",ze)}function we(_){_t(f,_?"remove":"add","mousemove",pr)}function Ie(_){var H=_?"remove":"add";yt[H](f,"selectstart",on),yt[H](f,"click",on)}function De(){Te(!0),ze({})}function on(_){jt&&_.preventDefault()}function mr(_){if(ye=_.clientX,Nn=_.clientY,1===ot(_)&&!_.metaKey&&!_.ctrlKey){var J=_.target,ct=an(J);ct&&(jt=ct,we(),"mousedown"===_.type&&(nt(J)?J.focus():_.preventDefault()))}}function pr(_){if(jt){if(0===ot(_))return void ze({});if(!(void 0!==_.clientX&&Math.abs(_.clientX-ye)<=(B.slideFactorX||0)&&void 0!==_.clientY&&Math.abs(_.clientY-Nn)<=(B.slideFactorY||0))){if(B.ignoreInputTextSelection){var H=mt("clientX",_)||0,J=mt("clientY",_)||0;if(nt(V.elementFromPoint(H,J)))return}var Lt=jt;we(!0),Ie(),wr(),ke(Lt);var bt=Pt(Tt);Le=mt("pageX",_)-bt.left,En=mt("pageY",_)-bt.top,W.add(xt||Tt,"gu-transit"),$n(),fn(_)}}}function an(_){if(!(vt.dragging&&rt||rn(_))){for(var H=_;Q(_)&&!1===rn(Q(_));)if(B.invalid(_,H)||!(_=Q(_)))return;var J=Q(_);if(J&&!B.invalid(_,H)&&B.moves(_,J,H,et(_)))return{item:_,source:J}}}function vr(_){return!!an(_)}function yr(_){var H=an(_);H&&ke(H)}function ke(_){br(_.item,_.source)&&(xt=_.item.cloneNode(!0),vt.emit("cloned",xt,_.item,"copy")),gt=_.source,Tt=_.item,Ce=Qt=et(_.item),vt.dragging=!0,vt.emit("drag",Tt,gt)}function hi(){return!1}function wr(){if(vt.dragging){var _=xt||Tt;On(_,Q(_))}}function sn(){jt=!1,we(!0),Ie(!0)}function ze(_){if(sn(),vt.dragging){var H=xt||Tt,J=mt("clientX",_)||0,ct=mt("clientY",_)||0,bt=cn(qt(rt,J,ct),J,ct);bt&&(xt&&B.copySortSource||!xt||bt!==gt)?On(H,bt):B.removeOnSpill?Ye():Un()}}function On(_,H){var J=Q(_);xt&&B.copySortSource&&H===gt&&J.removeChild(Tt),ln(H)?vt.emit("cancel",_,gt,gt):vt.emit("drop",_,H,gt,Qt),un()}function Ye(){if(vt.dragging){var _=xt||Tt,H=Q(_);H&&H.removeChild(_),vt.emit(xt?"cancel":"remove",_,H,gt),un()}}function Un(_){if(vt.dragging){var H=arguments.length>0?_:B.revertOnSpill,J=xt||Tt,ct=Q(J),Lt=ln(ct);!1===Lt&&H&&(xt?ct&&ct.removeChild(xt):gt.insertBefore(J,Ce)),Lt||H?vt.emit("cancel",J,gt,gt):vt.emit("drop",J,ct,gt,Qt),un()}}function un(){var _=xt||Tt;sn(),xr(),_&&W.rm(_,"gu-transit"),nn&&clearTimeout(nn),vt.dragging=!1,le&&vt.emit("out",_,le,gt),vt.emit("dragend",_),gt=Tt=xt=Ce=Qt=nn=le=null}function ln(_,H){var J;return J=void 0!==H?H:rt?Qt:et(xt||Tt),_===gt&&J===Ce}function cn(_,H,J){for(var ct=_;ct&&!Lt();)ct=Q(ct);return ct;function Lt(){if(!1===rn(ct))return!1;var _e=Pn(ct,_),Et=Rn(ct,_e,H,J);return!!ln(ct,Et)||B.accepts(Tt,ct,gt,Et)}}function fn(_){if(rt){_.preventDefault();var H=mt("clientX",_)||0,J=mt("clientY",_)||0,Lt=J-En;rt.style.left=H-Le+"px",rt.style.top=Lt+"px";var bt=xt||Tt,_e=qt(rt,H,J),Et=cn(_e,H,J),re=null!==Et&&Et!==le;(re||null===Et)&&(function Cr(){le&&ie("out")}(),le=Et,function Mr(){re&&ie("over")}());var Ht=Q(bt);if(Et!==gt||!xt||B.copySortSource){var Xt,ce=Pn(Et,_e);if(null!==ce)Xt=Rn(Et,ce,H,J);else{if(!0!==B.revertOnSpill||xt)return void(xt&&Ht&&Ht.removeChild(bt));Xt=Ce,Et=gt}(null===Xt&&re||Xt!==bt&&Xt!==et(bt))&&(Qt=Xt,Et.insertBefore(bt,Xt),vt.emit("shadow",bt,Et,gt))}else Ht&&Ht.removeChild(bt)}function ie(Tr){vt.emit(Tr,bt,le,gt)}}function _r(_){W.rm(_,"gu-hide")}function Fn(_){vt.dragging&&W.add(_,"gu-hide")}function $n(){if(!rt){var _=Tt.getBoundingClientRect();(rt=Tt.cloneNode(!0)).style.width=Me(_)+"px",rt.style.height=Re(_)+"px",W.rm(rt,"gu-transit"),W.add(rt,"gu-mirror"),B.mirrorContainer.appendChild(rt),_t(f,"add","mousemove",fn),W.add(B.mirrorContainer,"gu-unselectable"),vt.emit("cloned",rt,Tt,"mirror")}}function xr(){rt&&(W.rm(B.mirrorContainer,"gu-unselectable"),_t(f,"remove","mousemove",fn),Q(rt).removeChild(rt),rt=null)}function Pn(_,H){for(var J=H;J!==_&&Q(J)!==_;)J=Q(J);return J===f?null:J}function Rn(_,H,J,ct){var Lt="horizontal"===B.direction;return H!==_?function Et(){var Ht=H.getBoundingClientRect();return function re(Ht){return Ht?et(H):H}(Lt?J>Ht.left+Me(Ht)/2:ct>Ht.top+Re(Ht)/2)}():function _e(){var Xt,ce,ie,Ht=_.children.length;for(Xt=0;Xt<Ht;Xt++)if(ie=(ce=_.children[Xt]).getBoundingClientRect(),Lt&&ie.left+ie.width/2>J||!Lt&&ie.top+ie.height/2>ct)return ce;return null}()}function br(_,H){return"boolean"==typeof B.copy?B.copy:B.copy(_,H)}}},4233:Ut=>{var At="function"==typeof setImmediate;Ut.exports=At?function(ut){setImmediate(ut)}:function(ut){setTimeout(ut,0)}}}]);